import _Symbol$toPrimitive from "@babel/runtime-corejs3/core-js-stable/symbol/to-primitive";
import _typeof from "@babel/runtime-corejs3/helpers/typeof";
import _getIterator from "@babel/runtime-corejs3/core-js/get-iterator";
import _getIteratorMethod from "@babel/runtime-corejs3/core-js/get-iterator-method";
import _Symbol from "@babel/runtime-corejs3/core-js-stable/symbol";
import _Array$from from "@babel/runtime-corejs3/core-js-stable/array/from";
import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _Object$defineProperties from "@babel/runtime-corejs3/core-js-stable/object/define-properties";
import _Object$getOwnPropertyDescriptors from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors";
import _Object$getOwnPropertyDescriptor from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor";
import _filterInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/filter";
import _Object$getOwnPropertySymbols from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols";
import _Object$keys from "@babel/runtime-corejs3/core-js-stable/object/keys";
import _Reflect$construct from "@babel/runtime-corejs3/core-js-stable/reflect/construct";
import "core-js/modules/es.array.iterator";
import "core-js/modules/es.array.join";
import "core-js/modules/es.function.name";
import "core-js/modules/es.object.to-string";
import "core-js/modules/es.promise";
import "core-js/modules/es.regexp.exec";
import "core-js/modules/es.regexp.to-string";
import "core-js/modules/es.string.iterator";
import "core-js/modules/es.string.match";
import "core-js/modules/es.string.replace";
import "core-js/modules/es.string.split";
import "core-js/modules/web.dom-collections.iterator";
import _toConsumableArray from "@babel/runtime-corejs3/helpers/toConsumableArray";
import _Object$entries from "@babel/runtime-corejs3/core-js-stable/object/entries";
import _forEachInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/for-each";
import _objectWithoutProperties from "@babel/runtime-corejs3/helpers/objectWithoutProperties";
import _mapInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/map";
import _Array$isArray from "@babel/runtime-corejs3/core-js-stable/array/is-array";
import _indexOfInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/index-of";
import _JSON$stringify from "@babel/runtime-corejs3/core-js-stable/json/stringify";
import _parseInt from "@babel/runtime-corejs3/core-js-stable/parse-int";
import _Promise from "@babel/runtime-corejs3/core-js-stable/promise";
import _classCallCheck from "@babel/runtime-corejs3/helpers/classCallCheck";
import _assertThisInitialized from "@babel/runtime-corejs3/helpers/assertThisInitialized";
import _createClass from "@babel/runtime-corejs3/helpers/createClass";
import _inherits from "@babel/runtime-corejs3/helpers/inherits";
import _possibleConstructorReturn from "@babel/runtime-corejs3/helpers/possibleConstructorReturn";
import _getPrototypeOf from "@babel/runtime-corejs3/helpers/getPrototypeOf";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
import _concatInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/concat";
import _regeneratorRuntime from "@babel/runtime-corejs3/regenerator";
import "regenerator-runtime/runtime";
import _asyncToGenerator from "@babel/runtime-corejs3/helpers/asyncToGenerator";
import _sliceInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/slice";
import _slicedToArray from "@babel/runtime-corejs3/helpers/slicedToArray";

function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }

function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[_Symbol$toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof _Symbol === "undefined" || _getIteratorMethod(o) == null) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = _getIterator(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { var _context52; if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = _sliceInstanceProperty(_context52 = Object.prototype.toString.call(o)).call(_context52, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { var _context50; _forEachInstanceProperty(_context50 = ownKeys(Object(source), true)).call(_context50, function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { var _context51; _forEachInstanceProperty(_context51 = ownKeys(Object(source))).call(_context51, function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/**
 *
 */
import { EventEmitter } from 'events';
import jsforce from './jsforce';
import Transport, { CanvasTransport, XdProxyTransport, HttpProxyTransport } from './transport';
import { getLogger } from './util/logger';
import OAuth2 from './oauth2';
import Cache from './cache';
import HttpApi from './http-api';
import SessionRefreshDelegate from './session-refresh-delegate';
import Query from './query';
import SObject from './sobject';
import QuickAction from './quick-action';
import Process from './process';
import { formatDate } from './util/formatter';
import FormData from 'form-data';
/**
 * type definitions
 */

/**
 *
 */
var defaultConnectionConfig = {
  loginUrl: 'https://login.salesforce.com',
  instanceUrl: '',
  version: '50.0',
  logLevel: 'NONE',
  maxRequest: 10
};
/**
 *
 */

function esc(str) {
  return String(str || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
}
/**
 *
 */


function parseSignedRequest(sr) {
  if (typeof sr === 'string') {
    if (sr[0] === '{') {
      // might be JSON
      return JSON.parse(sr);
    } // might be original base64-encoded signed request


    var msg = sr.split('.').pop(); // retrieve latter part

    if (!msg) {
      throw new Error('Invalid signed request');
    }

    var json = Buffer.from(msg, 'base64').toString('utf-8');
    return JSON.parse(json);
  }

  return sr;
}
/** @private **/


function parseIdUrl(url) {
  var _context;

  var _url$split$slice = _sliceInstanceProperty(_context = url.split('/')).call(_context, -2),
      _url$split$slice2 = _slicedToArray(_url$split$slice, 2),
      organizationId = _url$split$slice2[0],
      id = _url$split$slice2[1];

  return {
    id: id,
    organizationId: organizationId,
    url: url
  };
}
/**
 * Session Refresh delegate function for OAuth2 authz code flow
 * @private
 */


function oauthRefreshFn(_x, _x2) {
  return _oauthRefreshFn.apply(this, arguments);
}
/**
 * Session Refresh delegate function for username/password login
 * @private
 */


function _oauthRefreshFn() {
  _oauthRefreshFn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee35(conn, callback) {
    var res, userInfo;
    return _regeneratorRuntime.wrap(function _callee35$(_context49) {
      while (1) {
        switch (_context49.prev = _context49.next) {
          case 0:
            _context49.prev = 0;

            if (conn.refreshToken) {
              _context49.next = 3;
              break;
            }

            throw new Error('No refresh token found in the connection');

          case 3:
            _context49.next = 5;
            return conn.oauth2.refreshToken(conn.refreshToken);

          case 5:
            res = _context49.sent;
            userInfo = parseIdUrl(res.id);

            conn._establish({
              instanceUrl: res.instance_url,
              accessToken: res.access_token,
              userInfo: userInfo
            });

            callback(undefined, res.access_token, res);
            _context49.next = 18;
            break;

          case 11:
            _context49.prev = 11;
            _context49.t0 = _context49["catch"](0);

            if (!(_context49.t0 instanceof Error)) {
              _context49.next = 17;
              break;
            }

            callback(_context49.t0);
            _context49.next = 18;
            break;

          case 17:
            throw _context49.t0;

          case 18:
          case "end":
            return _context49.stop();
        }
      }
    }, _callee35, null, [[0, 11]]);
  }));
  return _oauthRefreshFn.apply(this, arguments);
}

function createUsernamePasswordRefreshFn(username, password) {
  return /*#__PURE__*/function () {
    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(conn, callback) {
      return _regeneratorRuntime.wrap(function _callee$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.prev = 0;
              _context2.next = 3;
              return conn.login(username, password);

            case 3:
              if (conn.accessToken) {
                _context2.next = 5;
                break;
              }

              throw new Error('Access token not found after login');

            case 5:
              callback(null, conn.accessToken);
              _context2.next = 15;
              break;

            case 8:
              _context2.prev = 8;
              _context2.t0 = _context2["catch"](0);

              if (!(_context2.t0 instanceof Error)) {
                _context2.next = 14;
                break;
              }

              callback(_context2.t0);
              _context2.next = 15;
              break;

            case 14:
              throw _context2.t0;

            case 15:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee, null, [[0, 8]]);
    }));

    return function (_x3, _x4) {
      return _ref.apply(this, arguments);
    };
  }();
}
/**
 * @private
 */


function toSaveResult(err) {
  return {
    success: false,
    errors: [err]
  };
}
/**
 *
 */


function raiseNoModuleError(name) {
  var _context3;

  throw new Error(_concatInstanceProperty(_context3 = "API module '".concat(name, "' is not loaded, load 'jsforce/api/")).call(_context3, name, "' explicitly"));
}
/*
 * Constant of maximum records num in DML operation (update/delete)
 */


var MAX_DML_COUNT = 200;
/**
 *
 */

export var Connection = /*#__PURE__*/function (_EventEmitter) {
  _inherits(Connection, _EventEmitter);

  var _super = _createSuper(Connection);

  _createClass(Connection, [{
    key: "analytics",
    // describe: (name: string) => Promise<DescribeSObjectResult>;
    // describeGlobal: () => Promise<DescribeGlobalResult>;
    // API libs are not instantiated here so that core module to remain without dependencies to them
    // It is responsible for developers to import api libs explicitly if they are using 'jsforce/core' instead of 'jsforce'.
    get: function get() {
      return raiseNoModuleError('analytics');
    }
  }, {
    key: "apex",
    get: function get() {
      return raiseNoModuleError('apex');
    }
  }, {
    key: "bulk",
    get: function get() {
      return raiseNoModuleError('bulk');
    }
  }, {
    key: "bulk2",
    get: function get() {
      return raiseNoModuleError('bulk2');
    }
  }, {
    key: "chatter",
    get: function get() {
      return raiseNoModuleError('chatter');
    }
  }, {
    key: "metadata",
    get: function get() {
      return raiseNoModuleError('metadata');
    }
  }, {
    key: "soap",
    get: function get() {
      return raiseNoModuleError('soap');
    }
  }, {
    key: "streaming",
    get: function get() {
      return raiseNoModuleError('streaming');
    }
  }, {
    key: "tooling",
    get: function get() {
      return raiseNoModuleError('tooling');
    }
    /**
     *
     */

  }]);

  function Connection() {
    var _this;

    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, Connection);

    _this = _super.call(this);

    _defineProperty(_assertThisInitialized(_this), "version", void 0);

    _defineProperty(_assertThisInitialized(_this), "loginUrl", void 0);

    _defineProperty(_assertThisInitialized(_this), "instanceUrl", void 0);

    _defineProperty(_assertThisInitialized(_this), "accessToken", void 0);

    _defineProperty(_assertThisInitialized(_this), "refreshToken", void 0);

    _defineProperty(_assertThisInitialized(_this), "userInfo", void 0);

    _defineProperty(_assertThisInitialized(_this), "limitInfo", {});

    _defineProperty(_assertThisInitialized(_this), "oauth2", void 0);

    _defineProperty(_assertThisInitialized(_this), "sobjects", {});

    _defineProperty(_assertThisInitialized(_this), "cache", void 0);

    _defineProperty(_assertThisInitialized(_this), "_callOptions", void 0);

    _defineProperty(_assertThisInitialized(_this), "_maxRequest", void 0);

    _defineProperty(_assertThisInitialized(_this), "_logger", void 0);

    _defineProperty(_assertThisInitialized(_this), "_logLevel", void 0);

    _defineProperty(_assertThisInitialized(_this), "_transport", void 0);

    _defineProperty(_assertThisInitialized(_this), "_sessionType", void 0);

    _defineProperty(_assertThisInitialized(_this), "_refreshDelegate", void 0);

    _defineProperty(_assertThisInitialized(_this), "describe$", void 0);

    _defineProperty(_assertThisInitialized(_this), "describe$$", void 0);

    _defineProperty(_assertThisInitialized(_this), "describeSObject", void 0);

    _defineProperty(_assertThisInitialized(_this), "describeSObject$", void 0);

    _defineProperty(_assertThisInitialized(_this), "describeSObject$$", void 0);

    _defineProperty(_assertThisInitialized(_this), "describeGlobal$", void 0);

    _defineProperty(_assertThisInitialized(_this), "describeGlobal$$", void 0);

    _defineProperty(_assertThisInitialized(_this), "insert", _this.create);

    _defineProperty(_assertThisInitialized(_this), "delete", _this.destroy);

    _defineProperty(_assertThisInitialized(_this), "del", _this.destroy);

    _defineProperty(_assertThisInitialized(_this), "process", new Process(_assertThisInitialized(_this)));

    var loginUrl = config.loginUrl,
        instanceUrl = config.instanceUrl,
        version = config.version,
        oauth2 = config.oauth2,
        maxRequest = config.maxRequest,
        logLevel = config.logLevel,
        proxyUrl = config.proxyUrl,
        httpProxy = config.httpProxy;
    _this.loginUrl = loginUrl || defaultConnectionConfig.loginUrl;
    _this.instanceUrl = instanceUrl || defaultConnectionConfig.instanceUrl;
    _this.version = version || defaultConnectionConfig.version;
    _this.oauth2 = oauth2 instanceof OAuth2 ? oauth2 : new OAuth2(_objectSpread({
      loginUrl: _this.loginUrl,
      proxyUrl: proxyUrl,
      httpProxy: httpProxy
    }, oauth2));
    var refreshFn = config.refreshFn;

    if (!refreshFn && _this.oauth2.clientId) {
      refreshFn = oauthRefreshFn;
    }

    if (refreshFn) {
      _this._refreshDelegate = new SessionRefreshDelegate(_assertThisInitialized(_this), refreshFn);
    }

    _this._maxRequest = maxRequest || defaultConnectionConfig.maxRequest;
    _this._logger = logLevel ? Connection._logger.createInstance(logLevel) : Connection._logger;
    _this._logLevel = logLevel;
    _this._transport = proxyUrl ? new XdProxyTransport(proxyUrl) : httpProxy ? new HttpProxyTransport(httpProxy) : new Transport();
    _this._callOptions = config.callOptions;
    _this.cache = new Cache();

    var describeCacheKey = function describeCacheKey(type) {
      return type ? "describe.".concat(type) : 'describe';
    };

    var describe = Connection.prototype.describe;
    _this.describe = _this.cache.createCachedFunction(describe, _assertThisInitialized(_this), {
      key: describeCacheKey,
      strategy: 'NOCACHE'
    });
    _this.describe$ = _this.cache.createCachedFunction(describe, _assertThisInitialized(_this), {
      key: describeCacheKey,
      strategy: 'HIT'
    });
    _this.describe$$ = _this.cache.createCachedFunction(describe, _assertThisInitialized(_this), {
      key: describeCacheKey,
      strategy: 'IMMEDIATE'
    });
    _this.describeSObject = _this.describe;
    _this.describeSObject$ = _this.describe$;
    _this.describeSObject$$ = _this.describe$$;
    var describeGlobal = Connection.prototype.describeGlobal;
    _this.describeGlobal = _this.cache.createCachedFunction(describeGlobal, _assertThisInitialized(_this), {
      key: 'describeGlobal',
      strategy: 'NOCACHE'
    });
    _this.describeGlobal$ = _this.cache.createCachedFunction(describeGlobal, _assertThisInitialized(_this), {
      key: 'describeGlobal',
      strategy: 'HIT'
    });
    _this.describeGlobal$$ = _this.cache.createCachedFunction(describeGlobal, _assertThisInitialized(_this), {
      key: 'describeGlobal',
      strategy: 'IMMEDIATE'
    });
    var accessToken = config.accessToken,
        refreshToken = config.refreshToken,
        sessionId = config.sessionId,
        serverUrl = config.serverUrl,
        signedRequest = config.signedRequest;

    _this._establish({
      accessToken: accessToken,
      refreshToken: refreshToken,
      instanceUrl: instanceUrl,
      sessionId: sessionId,
      serverUrl: serverUrl,
      signedRequest: signedRequest
    });

    jsforce.emit('connection:new', _assertThisInitialized(_this));
    return _this;
  }
  /* @private */


  _createClass(Connection, [{
    key: "_establish",
    value: function _establish(options) {
      var _context4;

      var accessToken = options.accessToken,
          refreshToken = options.refreshToken,
          instanceUrl = options.instanceUrl,
          sessionId = options.sessionId,
          serverUrl = options.serverUrl,
          signedRequest = options.signedRequest,
          userInfo = options.userInfo;
      this.instanceUrl = serverUrl ? _sliceInstanceProperty(_context4 = serverUrl.split('/')).call(_context4, 0, 3).join('/') : instanceUrl || this.instanceUrl;
      this.accessToken = sessionId || accessToken || this.accessToken;
      this.refreshToken = refreshToken || this.refreshToken;

      if (this.refreshToken && !this._refreshDelegate) {
        throw new Error('Refresh token is specified without oauth2 client information or refresh function');
      }

      var signedRequestObject = signedRequest && parseSignedRequest(signedRequest);

      if (signedRequestObject) {
        this.accessToken = signedRequestObject.client.oauthToken;

        if (CanvasTransport.supported) {
          this._transport = new CanvasTransport(signedRequestObject);
        }
      }

      this.userInfo = userInfo || this.userInfo;
      this._sessionType = sessionId ? 'soap' : 'oauth2';

      this._resetInstance();
    }
    /* @priveate */

  }, {
    key: "_clearSession",
    value: function _clearSession() {
      this.accessToken = null;
      this.refreshToken = null;
      this.instanceUrl = defaultConnectionConfig.instanceUrl;
      this.userInfo = null;
      this._sessionType = null;
    }
    /* @priveate */

  }, {
    key: "_resetInstance",
    value: function _resetInstance() {
      var _this2 = this;

      this.limitInfo = {};
      this.sobjects = {}; // TODO impl cache

      this.cache.clear();
      this.cache.get('describeGlobal').removeAllListeners('value');
      this.cache.get('describeGlobal').on('value', function (_ref2) {
        var result = _ref2.result;

        if (result) {
          var _iterator = _createForOfIteratorHelper(result.sobjects),
              _step;

          try {
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              var so = _step.value;

              _this2.sobject(so.name);
            }
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }
        }
      });
      /*
      if (this.tooling) {
        this.tooling._resetInstance();
      }
      */
    }
    /**
     * Authorize (using oauth2 web server flow)
     */

  }, {
    key: "authorize",
    value: function () {
      var _authorize = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(code) {
        var _context5;

        var params,
            res,
            userInfo,
            _args2 = arguments;
        return _regeneratorRuntime.wrap(function _callee2$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                params = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};
                _context6.next = 3;
                return this.oauth2.requestToken(code, params);

              case 3:
                res = _context6.sent;
                userInfo = parseIdUrl(res.id);

                this._establish({
                  instanceUrl: res.instance_url,
                  accessToken: res.access_token,
                  refreshToken: res.refresh_token,
                  userInfo: userInfo
                });

                this._logger.debug(_concatInstanceProperty(_context5 = "<login> completed. user id = ".concat(userInfo.id, ", org id = ")).call(_context5, userInfo.organizationId));

                return _context6.abrupt("return", userInfo);

              case 8:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee2, this);
      }));

      function authorize(_x5) {
        return _authorize.apply(this, arguments);
      }

      return authorize;
    }()
    /**
     *
     */

  }, {
    key: "login",
    value: function () {
      var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username, password) {
        return _regeneratorRuntime.wrap(function _callee3$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                this._refreshDelegate = new SessionRefreshDelegate(this, createUsernamePasswordRefreshFn(username, password));

                if (!(this.oauth2 && this.oauth2.clientId && this.oauth2.clientSecret)) {
                  _context7.next = 3;
                  break;
                }

                return _context7.abrupt("return", this.loginByOAuth2(username, password));

              case 3:
                return _context7.abrupt("return", this.loginBySoap(username, password));

              case 4:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee3, this);
      }));

      function login(_x6, _x7) {
        return _login.apply(this, arguments);
      }

      return login;
    }()
    /**
     * Login by OAuth2 username & password flow
     */

  }, {
    key: "loginByOAuth2",
    value: function () {
      var _loginByOAuth = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(username, password) {
        var _context8;

        var res, userInfo;
        return _regeneratorRuntime.wrap(function _callee4$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return this.oauth2.authenticate(username, password);

              case 2:
                res = _context9.sent;
                userInfo = parseIdUrl(res.id);

                this._establish({
                  instanceUrl: res.instance_url,
                  accessToken: res.access_token,
                  userInfo: userInfo
                });

                this._logger.info(_concatInstanceProperty(_context8 = "<login> completed. user id = ".concat(userInfo.id, ", org id = ")).call(_context8, userInfo.organizationId));

                return _context9.abrupt("return", userInfo);

              case 7:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee4, this);
      }));

      function loginByOAuth2(_x8, _x9) {
        return _loginByOAuth.apply(this, arguments);
      }

      return loginByOAuth2;
    }()
    /**
     *
     */

  }, {
    key: "loginBySoap",
    value: function () {
      var _loginBySoap = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(username, password) {
        var _context10, _context11;

        var body, soapLoginEndpoint, response, m, faultstring, serverUrl, sessionId, userId, organizationId, idUrl, userInfo;
        return _regeneratorRuntime.wrap(function _callee5$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                if (!(!username || !password)) {
                  _context12.next = 2;
                  break;
                }

                return _context12.abrupt("return", _Promise.reject(new Error('no username password given')));

              case 2:
                body = ['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">', '<se:Header/>', '<se:Body>', '<login xmlns="urn:partner.soap.sforce.com">', "<username>".concat(esc(username), "</username>"), "<password>".concat(esc(password), "</password>"), '</login>', '</se:Body>', '</se:Envelope>'].join('');
                soapLoginEndpoint = [this.loginUrl, 'services/Soap/u', this.version].join('/');
                _context12.next = 6;
                return this._transport.httpRequest({
                  method: 'POST',
                  url: soapLoginEndpoint,
                  body: body,
                  headers: {
                    'Content-Type': 'text/xml',
                    SOAPAction: '""'
                  }
                });

              case 6:
                response = _context12.sent;

                if (!(response.statusCode >= 400)) {
                  _context12.next = 11;
                  break;
                }

                m = response.body.match(/<faultstring>([^<]+)<\/faultstring>/);
                faultstring = m && m[1];
                throw new Error(faultstring || response.body);

              case 11:
                this._logger.debug("SOAP response = ".concat(response.body));

                m = response.body.match(/<serverUrl>([^<]+)<\/serverUrl>/);
                serverUrl = m && m[1];
                m = response.body.match(/<sessionId>([^<]+)<\/sessionId>/);
                sessionId = m && m[1];
                m = response.body.match(/<userId>([^<]+)<\/userId>/);
                userId = m && m[1];
                m = response.body.match(/<organizationId>([^<]+)<\/organizationId>/);
                organizationId = m && m[1];

                if (!(!serverUrl || !sessionId || !userId || !organizationId)) {
                  _context12.next = 22;
                  break;
                }

                throw new Error('could not extract session information from login response');

              case 22:
                idUrl = [this.loginUrl, 'id', organizationId, userId].join('/');
                userInfo = {
                  id: userId,
                  organizationId: organizationId,
                  url: idUrl
                };

                this._establish({
                  serverUrl: _sliceInstanceProperty(_context10 = serverUrl.split('/')).call(_context10, 0, 3).join('/'),
                  sessionId: sessionId,
                  userInfo: userInfo
                });

                this._logger.info(_concatInstanceProperty(_context11 = "<login> completed. user id = ".concat(userId, ", org id = ")).call(_context11, organizationId));

                return _context12.abrupt("return", userInfo);

              case 27:
              case "end":
                return _context12.stop();
            }
          }
        }, _callee5, this);
      }));

      function loginBySoap(_x10, _x11) {
        return _loginBySoap.apply(this, arguments);
      }

      return loginBySoap;
    }()
    /**
     * Logout the current session
     */

  }, {
    key: "logout",
    value: function () {
      var _logout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(revoke) {
        return _regeneratorRuntime.wrap(function _callee6$(_context13) {
          while (1) {
            switch (_context13.prev = _context13.next) {
              case 0:
                this._refreshDelegate = undefined;

                if (!(this._sessionType === 'oauth2')) {
                  _context13.next = 3;
                  break;
                }

                return _context13.abrupt("return", this.logoutByOAuth2(revoke));

              case 3:
                return _context13.abrupt("return", this.logoutBySoap(revoke));

              case 4:
              case "end":
                return _context13.stop();
            }
          }
        }, _callee6, this);
      }));

      function logout(_x12) {
        return _logout.apply(this, arguments);
      }

      return logout;
    }()
    /**
     * Logout the current session by revoking access token via OAuth2 session revoke
     */

  }, {
    key: "logoutByOAuth2",
    value: function () {
      var _logoutByOAuth = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(revoke) {
        var token;
        return _regeneratorRuntime.wrap(function _callee7$(_context14) {
          while (1) {
            switch (_context14.prev = _context14.next) {
              case 0:
                token = revoke ? this.refreshToken : this.accessToken;

                if (!token) {
                  _context14.next = 4;
                  break;
                }

                _context14.next = 4;
                return this.oauth2.revokeToken(token);

              case 4:
                // Destroy the session bound to this connection
                this._clearSession();

                this._resetInstance();

              case 6:
              case "end":
                return _context14.stop();
            }
          }
        }, _callee7, this);
      }));

      function logoutByOAuth2(_x13) {
        return _logoutByOAuth.apply(this, arguments);
      }

      return logoutByOAuth2;
    }()
    /**
     * Logout the session by using SOAP web service API
     */

  }, {
    key: "logoutBySoap",
    value: function () {
      var _logoutBySoap = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(revoke) {
        var _context15;

        var body, response, m, faultstring;
        return _regeneratorRuntime.wrap(function _callee8$(_context16) {
          while (1) {
            switch (_context16.prev = _context16.next) {
              case 0:
                body = ['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">', '<se:Header>', '<SessionHeader xmlns="urn:partner.soap.sforce.com">', "<sessionId>".concat(esc(revoke ? this.refreshToken : this.accessToken), "</sessionId>"), '</SessionHeader>', '</se:Header>', '<se:Body>', '<logout xmlns="urn:partner.soap.sforce.com"/>', '</se:Body>', '</se:Envelope>'].join('');
                _context16.next = 3;
                return this._transport.httpRequest({
                  method: 'POST',
                  url: [this.instanceUrl, 'services/Soap/u', this.version].join('/'),
                  body: body,
                  headers: {
                    'Content-Type': 'text/xml',
                    SOAPAction: '""'
                  }
                });

              case 3:
                response = _context16.sent;

                this._logger.debug(_concatInstanceProperty(_context15 = "SOAP statusCode = ".concat(response.statusCode, ", response = ")).call(_context15, response.body));

                if (!(response.statusCode >= 400)) {
                  _context16.next = 9;
                  break;
                }

                m = response.body.match(/<faultstring>([^<]+)<\/faultstring>/);
                faultstring = m && m[1];
                throw new Error(faultstring || response.body);

              case 9:
                // Destroy the session bound to this connection
                this._clearSession();

                this._resetInstance();

              case 11:
              case "end":
                return _context16.stop();
            }
          }
        }, _callee8, this);
      }));

      function logoutBySoap(_x14) {
        return _logoutBySoap.apply(this, arguments);
      }

      return logoutBySoap;
    }()
    /**
     * Send REST API request with given HTTP request info, with connected session information.
     *
     * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
     * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
     * , or relative path from version root ('/sobjects/Account/describe').
     */

  }, {
    key: "request",
    value: function request(_request) {
      var _this3 = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      // if request is simple string, regard it as url in GET method
      var request_ = typeof _request === 'string' ? {
        method: 'GET',
        url: _request
      } : _request; // if url is given in relative path, prepend base url or instance url before.

      request_ = _objectSpread(_objectSpread({}, request_), {}, {
        url: this._normalizeUrl(request_.url)
      });
      var httpApi = new HttpApi(this, options); // log api usage and its quota

      httpApi.on('response', function (response) {
        if (response.headers && response.headers['sforce-limit-info']) {
          var apiUsage = response.headers['sforce-limit-info'].match(/api-usage=(\d+)\/(\d+)/);

          if (apiUsage) {
            _this3.limitInfo = {
              apiUsage: {
                used: _parseInt(apiUsage[1], 10),
                limit: _parseInt(apiUsage[2], 10)
              }
            };
          }
        }
      });
      return httpApi.request(request_);
    }
    /**
     * Send HTTP GET request
     *
     * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
     * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
     * , or relative path from version root ('/sobjects/Account/describe').
     */

  }, {
    key: "requestGet",
    value: function requestGet(url, options) {
      var request = {
        method: 'GET',
        url: url
      };
      return this.request(request, options);
    }
    /**
     * Send HTTP POST request with JSON body, with connected session information
     *
     * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
     * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
     * , or relative path from version root ('/sobjects/Account/describe').
     */

  }, {
    key: "requestPost",
    value: function requestPost(url, body, options) {
      var request = {
        method: 'POST',
        url: url,
        body: _JSON$stringify(body),
        headers: {
          'content-type': 'application/json'
        }
      };
      return this.request(request, options);
    }
    /**
     * Send HTTP PUT request with JSON body, with connected session information
     *
     * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
     * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
     * , or relative path from version root ('/sobjects/Account/describe').
     */

  }, {
    key: "requestPut",
    value: function requestPut(url, body, options) {
      var request = {
        method: 'PUT',
        url: url,
        body: _JSON$stringify(body),
        headers: {
          'content-type': 'application/json'
        }
      };
      return this.request(request, options);
    }
    /**
     * Send HTTP PATCH request with JSON body
     *
     * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
     * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
     * , or relative path from version root ('/sobjects/Account/describe').
     */

  }, {
    key: "requestPatch",
    value: function requestPatch(url, body, options) {
      var request = {
        method: 'PATCH',
        url: url,
        body: _JSON$stringify(body),
        headers: {
          'content-type': 'application/json'
        }
      };
      return this.request(request, options);
    }
    /**
     * Send HTTP DELETE request
     *
     * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')
     * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')
     * , or relative path from version root ('/sobjects/Account/describe').
     */

  }, {
    key: "requestDelete",
    value: function requestDelete(url, options) {
      var request = {
        method: 'DELETE',
        url: url
      };
      return this.request(request, options);
    }
    /** @private **/

  }, {
    key: "_baseUrl",
    value: function _baseUrl() {
      return [this.instanceUrl, 'services/data', "v".concat(this.version)].join('/');
    }
    /**
     * Convert path to absolute url
     * @private
     */

  }, {
    key: "_normalizeUrl",
    value: function _normalizeUrl(url) {
      if (url[0] === '/') {
        if (_indexOfInstanceProperty(url).call(url, this.instanceUrl + '/services/') === 0) {
          return url;
        }

        if (_indexOfInstanceProperty(url).call(url, '/services/') === 0) {
          return this.instanceUrl + url;
        }

        return this._baseUrl() + url;
      }

      return url;
    }
    /**
     *
     */

  }, {
    key: "query",
    value: function query(soql, options) {
      return new Query(this, soql, options);
    }
    /**
     * Execute search by SOSL
     *
     * @param {String} sosl - SOSL string
     * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function
     * @returns {Promise.<Array.<RecordResult>>}
     */

  }, {
    key: "search",
    value: function search(sosl) {
      var url = this._baseUrl() + '/search?q=' + encodeURIComponent(sosl);
      return this.request(url);
    }
    /**
     *
     */

  }, {
    key: "queryMore",
    value: function queryMore(locator, options) {
      return new Query(this, {
        locator: locator
      }, options);
    }
    /* */

  }, {
    key: "_ensureVersion",
    value: function _ensureVersion(majorVersion) {
      var versions = this.version.split('.');
      return _parseInt(versions[0], 10) >= majorVersion;
    }
    /* */

  }, {
    key: "_supports",
    value: function _supports(feature) {
      switch (feature) {
        case 'sobject-collection':
          // sobject collection is available only in API ver 42.0+
          return this._ensureVersion(42);

        default:
          return false;
      }
    }
    /**
     * Retrieve specified records
     */

  }, {
    key: "retrieve",
    value: function () {
      var _retrieve = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(type, ids) {
        var options,
            _args9 = arguments;
        return _regeneratorRuntime.wrap(function _callee9$(_context17) {
          while (1) {
            switch (_context17.prev = _context17.next) {
              case 0:
                options = _args9.length > 2 && _args9[2] !== undefined ? _args9[2] : {};
                return _context17.abrupt("return", _Array$isArray(ids) ? // check the version whether SObject collection API is supported (42.0)
                this._ensureVersion(42) ? this._retrieveMany(type, ids, options) : this._retrieveParallel(type, ids, options) : this._retrieveSingle(type, ids, options));

              case 2:
              case "end":
                return _context17.stop();
            }
          }
        }, _callee9, this);
      }));

      function retrieve(_x15, _x16) {
        return _retrieve.apply(this, arguments);
      }

      return retrieve;
    }()
    /** @private */

  }, {
    key: "_retrieveSingle",
    value: function () {
      var _retrieveSingle2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(type, id, options) {
        var url, fields, headers;
        return _regeneratorRuntime.wrap(function _callee10$(_context18) {
          while (1) {
            switch (_context18.prev = _context18.next) {
              case 0:
                if (id) {
                  _context18.next = 2;
                  break;
                }

                throw new Error('Invalid record ID. Specify valid record ID value');

              case 2:
                url = [this._baseUrl(), 'sobjects', type, id].join('/');
                fields = options.fields, headers = options.headers;

                if (fields) {
                  url += "?fields=".concat(fields.join(','));
                }

                return _context18.abrupt("return", this.request({
                  method: 'GET',
                  url: url,
                  headers: headers
                }));

              case 6:
              case "end":
                return _context18.stop();
            }
          }
        }, _callee10, this);
      }));

      function _retrieveSingle(_x17, _x18, _x19) {
        return _retrieveSingle2.apply(this, arguments);
      }

      return _retrieveSingle;
    }()
    /** @private */

  }, {
    key: "_retrieveParallel",
    value: function () {
      var _retrieveParallel2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(type, ids, options) {
        var _this4 = this;

        return _regeneratorRuntime.wrap(function _callee11$(_context19) {
          while (1) {
            switch (_context19.prev = _context19.next) {
              case 0:
                if (!(ids.length > this._maxRequest)) {
                  _context19.next = 2;
                  break;
                }

                throw new Error('Exceeded max limit of concurrent call');

              case 2:
                return _context19.abrupt("return", _Promise.all(_mapInstanceProperty(ids).call(ids, function (id) {
                  return _this4._retrieveSingle(type, id, options).catch(function (err) {
                    if (options.allOrNone || err.errorCode !== 'NOT_FOUND') {
                      throw err;
                    }

                    return null;
                  });
                })));

              case 3:
              case "end":
                return _context19.stop();
            }
          }
        }, _callee11, this);
      }));

      function _retrieveParallel(_x20, _x21, _x22) {
        return _retrieveParallel2.apply(this, arguments);
      }

      return _retrieveParallel;
    }()
    /** @private */

  }, {
    key: "_retrieveMany",
    value: function () {
      var _retrieveMany2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(type, ids, options) {
        var _context20;

        var url, fields;
        return _regeneratorRuntime.wrap(function _callee12$(_context21) {
          while (1) {
            switch (_context21.prev = _context21.next) {
              case 0:
                if (!(ids.length === 0)) {
                  _context21.next = 2;
                  break;
                }

                return _context21.abrupt("return", []);

              case 2:
                url = [this._baseUrl(), 'composite', 'sobjects', type].join('/');
                _context21.t0 = options.fields;

                if (_context21.t0) {
                  _context21.next = 10;
                  break;
                }

                _context21.t1 = _mapInstanceProperty;
                _context21.next = 8;
                return this.describe$(type);

              case 8:
                _context21.t2 = _context20 = _context21.sent.fields;
                _context21.t0 = (0, _context21.t1)(_context21.t2).call(_context20, function (field) {
                  return field.name;
                });

              case 10:
                fields = _context21.t0;
                return _context21.abrupt("return", this.request({
                  method: 'POST',
                  url: url,
                  body: _JSON$stringify({
                    ids: ids,
                    fields: fields
                  }),
                  headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
                    'content-type': 'application/json'
                  })
                }));

              case 12:
              case "end":
                return _context21.stop();
            }
          }
        }, _callee12, this);
      }));

      function _retrieveMany(_x23, _x24, _x25) {
        return _retrieveMany2.apply(this, arguments);
      }

      return _retrieveMany;
    }()
    /**
     * Create records
     */

  }, {
    key: "create",

    /**
     * @param type
     * @param records
     * @param options
     */
    value: function () {
      var _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(type, records) {
        var options,
            ret,
            _args13 = arguments;
        return _regeneratorRuntime.wrap(function _callee13$(_context22) {
          while (1) {
            switch (_context22.prev = _context22.next) {
              case 0:
                options = _args13.length > 2 && _args13[2] !== undefined ? _args13[2] : {};

                if (!_Array$isArray(records)) {
                  _context22.next = 14;
                  break;
                }

                if (!this._ensureVersion(42)) {
                  _context22.next = 8;
                  break;
                }

                _context22.next = 5;
                return this._createMany(type, records, options);

              case 5:
                _context22.t1 = _context22.sent;
                _context22.next = 11;
                break;

              case 8:
                _context22.next = 10;
                return this._createParallel(type, records, options);

              case 10:
                _context22.t1 = _context22.sent;

              case 11:
                _context22.t0 = _context22.t1;
                _context22.next = 17;
                break;

              case 14:
                _context22.next = 16;
                return this._createSingle(type, records, options);

              case 16:
                _context22.t0 = _context22.sent;

              case 17:
                ret = _context22.t0;
                return _context22.abrupt("return", ret);

              case 19:
              case "end":
                return _context22.stop();
            }
          }
        }, _callee13, this);
      }));

      function create(_x26, _x27) {
        return _create.apply(this, arguments);
      }

      return create;
    }()
    /** @private */

  }, {
    key: "_createSingle",
    value: function () {
      var _createSingle2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(type, record, options) {
        var Id, rtype, attributes, rec, sobjectType, url, contentType, body, _context23, form;

        return _regeneratorRuntime.wrap(function _callee14$(_context24) {
          while (1) {
            switch (_context24.prev = _context24.next) {
              case 0:
                Id = record.Id, rtype = record.type, attributes = record.attributes, rec = _objectWithoutProperties(record, ["Id", "type", "attributes"]);
                sobjectType = type || attributes && attributes.type || rtype;

                if (sobjectType) {
                  _context24.next = 4;
                  break;
                }

                throw new Error('No SObject Type defined in record');

              case 4:
                url = [this._baseUrl(), 'sobjects', sobjectType].join('/');

                if (options && options.multipartFileFields) {
                  // Send the record as a multipart/form-data request. Useful for fields containing large binary blobs.
                  form = new FormData(); // Extract the fields requested to be sent separately from the JSON

                  _forEachInstanceProperty(_context23 = _Object$entries(options.multipartFileFields)).call(_context23, function (_ref3) {
                    var _ref4 = _slicedToArray(_ref3, 2),
                        fieldName = _ref4[0],
                        fileDetails = _ref4[1];

                    form.append(fieldName, Buffer.from(rec[fieldName], 'base64'), fileDetails);
                    delete rec[fieldName];
                  }); // Serialize the remaining fields as JSON


                  form.append(type, _JSON$stringify(rec), {
                    contentType: 'application/json'
                  });
                  contentType = form.getHeaders()['content-type']; // This is necessary to ensure the 'boundary' is present

                  body = form;
                } else {
                  // Default behavior: send the request as JSON
                  contentType = 'application/json';
                  body = _JSON$stringify(rec);
                }

                return _context24.abrupt("return", this.request({
                  method: 'POST',
                  url: url,
                  body: body,
                  headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
                    'content-type': contentType
                  })
                }));

              case 7:
              case "end":
                return _context24.stop();
            }
          }
        }, _callee14, this);
      }));

      function _createSingle(_x28, _x29, _x30) {
        return _createSingle2.apply(this, arguments);
      }

      return _createSingle;
    }()
    /** @private */

  }, {
    key: "_createParallel",
    value: function () {
      var _createParallel2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(type, records, options) {
        var _this5 = this;

        return _regeneratorRuntime.wrap(function _callee15$(_context25) {
          while (1) {
            switch (_context25.prev = _context25.next) {
              case 0:
                if (!(records.length > this._maxRequest)) {
                  _context25.next = 2;
                  break;
                }

                throw new Error('Exceeded max limit of concurrent call');

              case 2:
                return _context25.abrupt("return", _Promise.all(_mapInstanceProperty(records).call(records, function (record) {
                  return _this5._createSingle(type, record, options).catch(function (err) {
                    // be aware that allOrNone in parallel mode will not revert the other successful requests
                    // it only raises error when met at least one failed request.
                    if (options.allOrNone || !err.errorCode) {
                      throw err;
                    }

                    return toSaveResult(err);
                  });
                })));

              case 3:
              case "end":
                return _context25.stop();
            }
          }
        }, _callee15, this);
      }));

      function _createParallel(_x31, _x32, _x33) {
        return _createParallel2.apply(this, arguments);
      }

      return _createParallel;
    }()
    /** @private */

  }, {
    key: "_createMany",
    value: function () {
      var _createMany2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(type, records, options) {
        var _context26, _records, url;

        return _regeneratorRuntime.wrap(function _callee16$(_context27) {
          while (1) {
            switch (_context27.prev = _context27.next) {
              case 0:
                if (!(records.length === 0)) {
                  _context27.next = 2;
                  break;
                }

                return _context27.abrupt("return", _Promise.resolve([]));

              case 2:
                if (!(records.length > MAX_DML_COUNT && options.allowRecursive)) {
                  _context27.next = 16;
                  break;
                }

                _context27.t0 = _concatInstanceProperty(_context26 = []);
                _context27.t1 = _context26;
                _context27.t2 = _toConsumableArray;
                _context27.next = 8;
                return this._createMany(type, _sliceInstanceProperty(records).call(records, 0, MAX_DML_COUNT), options);

              case 8:
                _context27.t3 = _context27.sent;
                _context27.t4 = (0, _context27.t2)(_context27.t3);
                _context27.t5 = _toConsumableArray;
                _context27.next = 13;
                return this._createMany(type, _sliceInstanceProperty(records).call(records, MAX_DML_COUNT), options);

              case 13:
                _context27.t6 = _context27.sent;
                _context27.t7 = (0, _context27.t5)(_context27.t6);
                return _context27.abrupt("return", _context27.t0.call.call(_context27.t0, _context27.t1, _context27.t4, _context27.t7));

              case 16:
                _records = _mapInstanceProperty(records).call(records, function (record) {
                  var Id = record.Id,
                      rtype = record.type,
                      attributes = record.attributes,
                      rec = _objectWithoutProperties(record, ["Id", "type", "attributes"]);

                  var sobjectType = type || attributes && attributes.type || rtype;

                  if (!sobjectType) {
                    throw new Error('No SObject Type defined in record');
                  }

                  return _objectSpread({
                    attributes: {
                      type: sobjectType
                    }
                  }, rec);
                });
                url = [this._baseUrl(), 'composite', 'sobjects'].join('/');
                return _context27.abrupt("return", this.request({
                  method: 'POST',
                  url: url,
                  body: _JSON$stringify({
                    allOrNone: options.allOrNone || false,
                    records: _records
                  }),
                  headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
                    'content-type': 'application/json'
                  })
                }));

              case 19:
              case "end":
                return _context27.stop();
            }
          }
        }, _callee16, this);
      }));

      function _createMany(_x34, _x35, _x36) {
        return _createMany2.apply(this, arguments);
      }

      return _createMany;
    }()
    /**
     * Synonym of Connection#create()
     */

  }, {
    key: "update",

    /**
     * @param type
     * @param records
     * @param options
     */
    value: function update(type, records) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return _Array$isArray(records) ? // check the version whether SObject collection API is supported (42.0)
      this._ensureVersion(42) ? this._updateMany(type, records, options) : this._updateParallel(type, records, options) : this._updateSingle(type, records, options);
    }
    /** @private */

  }, {
    key: "_updateSingle",
    value: function () {
      var _updateSingle2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(type, record, options) {
        var id, rtype, attributes, rec, sobjectType, url;
        return _regeneratorRuntime.wrap(function _callee17$(_context28) {
          while (1) {
            switch (_context28.prev = _context28.next) {
              case 0:
                id = record.Id, rtype = record.type, attributes = record.attributes, rec = _objectWithoutProperties(record, ["Id", "type", "attributes"]);

                if (id) {
                  _context28.next = 3;
                  break;
                }

                throw new Error('Record id is not found in record.');

              case 3:
                sobjectType = type || attributes && attributes.type || rtype;

                if (sobjectType) {
                  _context28.next = 6;
                  break;
                }

                throw new Error('No SObject Type defined in record');

              case 6:
                url = [this._baseUrl(), 'sobjects', sobjectType, id].join('/');
                return _context28.abrupt("return", this.request({
                  method: 'PATCH',
                  url: url,
                  body: _JSON$stringify(rec),
                  headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
                    'content-type': 'application/json'
                  })
                }, {
                  noContentResponse: {
                    id: id,
                    success: true,
                    errors: []
                  }
                }));

              case 8:
              case "end":
                return _context28.stop();
            }
          }
        }, _callee17, this);
      }));

      function _updateSingle(_x37, _x38, _x39) {
        return _updateSingle2.apply(this, arguments);
      }

      return _updateSingle;
    }()
    /** @private */

  }, {
    key: "_updateParallel",
    value: function () {
      var _updateParallel2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(type, records, options) {
        var _this6 = this;

        return _regeneratorRuntime.wrap(function _callee18$(_context29) {
          while (1) {
            switch (_context29.prev = _context29.next) {
              case 0:
                if (!(records.length > this._maxRequest)) {
                  _context29.next = 2;
                  break;
                }

                throw new Error('Exceeded max limit of concurrent call');

              case 2:
                return _context29.abrupt("return", _Promise.all(_mapInstanceProperty(records).call(records, function (record) {
                  return _this6._updateSingle(type, record, options).catch(function (err) {
                    // be aware that allOrNone in parallel mode will not revert the other successful requests
                    // it only raises error when met at least one failed request.
                    if (options.allOrNone || !err.errorCode) {
                      throw err;
                    }

                    return toSaveResult(err);
                  });
                })));

              case 3:
              case "end":
                return _context29.stop();
            }
          }
        }, _callee18, this);
      }));

      function _updateParallel(_x40, _x41, _x42) {
        return _updateParallel2.apply(this, arguments);
      }

      return _updateParallel;
    }()
    /** @private */

  }, {
    key: "_updateMany",
    value: function () {
      var _updateMany2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(type, records, options) {
        var _context30, _records, url;

        return _regeneratorRuntime.wrap(function _callee19$(_context31) {
          while (1) {
            switch (_context31.prev = _context31.next) {
              case 0:
                if (!(records.length === 0)) {
                  _context31.next = 2;
                  break;
                }

                return _context31.abrupt("return", []);

              case 2:
                if (!(records.length > MAX_DML_COUNT && options.allowRecursive)) {
                  _context31.next = 16;
                  break;
                }

                _context31.t0 = _concatInstanceProperty(_context30 = []);
                _context31.t1 = _context30;
                _context31.t2 = _toConsumableArray;
                _context31.next = 8;
                return this._updateMany(type, _sliceInstanceProperty(records).call(records, 0, MAX_DML_COUNT), options);

              case 8:
                _context31.t3 = _context31.sent;
                _context31.t4 = (0, _context31.t2)(_context31.t3);
                _context31.t5 = _toConsumableArray;
                _context31.next = 13;
                return this._updateMany(type, _sliceInstanceProperty(records).call(records, MAX_DML_COUNT), options);

              case 13:
                _context31.t6 = _context31.sent;
                _context31.t7 = (0, _context31.t5)(_context31.t6);
                return _context31.abrupt("return", _context31.t0.call.call(_context31.t0, _context31.t1, _context31.t4, _context31.t7));

              case 16:
                _records = _mapInstanceProperty(records).call(records, function (record) {
                  var id = record.Id,
                      rtype = record.type,
                      attributes = record.attributes,
                      rec = _objectWithoutProperties(record, ["Id", "type", "attributes"]);

                  if (!id) {
                    throw new Error('Record id is not found in record.');
                  }

                  var sobjectType = type || attributes && attributes.type || rtype;

                  if (!sobjectType) {
                    throw new Error('No SObject Type defined in record');
                  }

                  return _objectSpread({
                    id: id,
                    attributes: {
                      type: sobjectType
                    }
                  }, rec);
                });
                url = [this._baseUrl(), 'composite', 'sobjects'].join('/');
                return _context31.abrupt("return", this.request({
                  method: 'PATCH',
                  url: url,
                  body: _JSON$stringify({
                    allOrNone: options.allOrNone || false,
                    records: _records
                  }),
                  headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
                    'content-type': 'application/json'
                  })
                }));

              case 19:
              case "end":
                return _context31.stop();
            }
          }
        }, _callee19, this);
      }));

      function _updateMany(_x43, _x44, _x45) {
        return _updateMany2.apply(this, arguments);
      }

      return _updateMany;
    }()
    /**
     * Upsert records
     */

  }, {
    key: "upsert",

    /**
     *
     * @param type
     * @param records
     * @param extIdField
     * @param options
     */
    value: function () {
      var _upsert = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(type, records, extIdField) {
        var _this7 = this;

        var options,
            isArray,
            _records,
            results,
            _args20 = arguments;

        return _regeneratorRuntime.wrap(function _callee20$(_context33) {
          while (1) {
            switch (_context33.prev = _context33.next) {
              case 0:
                options = _args20.length > 3 && _args20[3] !== undefined ? _args20[3] : {};
                isArray = _Array$isArray(records);
                _records = _Array$isArray(records) ? records : [records];

                if (!(_records.length > this._maxRequest)) {
                  _context33.next = 5;
                  break;
                }

                throw new Error('Exceeded max limit of concurrent call');

              case 5:
                _context33.next = 7;
                return _Promise.all(_mapInstanceProperty(_records).call(_records, function (record) {
                  var _context32;

                  var extId = record[extIdField],
                      rtype = record.type,
                      attributes = record.attributes,
                      rec = _objectWithoutProperties(record, _mapInstanceProperty(_context32 = [extIdField, "type", "attributes"]).call(_context32, _toPropertyKey));

                  var url = [_this7._baseUrl(), 'sobjects', type, extIdField, extId].join('/');
                  return _this7.request({
                    method: 'PATCH',
                    url: url,
                    body: _JSON$stringify(rec),
                    headers: _objectSpread(_objectSpread({}, options.headers || {}), {}, {
                      'content-type': 'application/json'
                    })
                  }, {
                    noContentResponse: {
                      success: true,
                      errors: []
                    }
                  }).catch(function (err) {
                    // Be aware that `allOrNone` option in upsert method
                    // will not revert the other successful requests.
                    // It only raises error when met at least one failed request.
                    if (!isArray || options.allOrNone || !err.errorCode) {
                      throw err;
                    }

                    return toSaveResult(err);
                  });
                }));

              case 7:
                results = _context33.sent;
                return _context33.abrupt("return", isArray ? results : results[0]);

              case 9:
              case "end":
                return _context33.stop();
            }
          }
        }, _callee20, this);
      }));

      function upsert(_x46, _x47, _x48) {
        return _upsert.apply(this, arguments);
      }

      return upsert;
    }()
    /**
     * Delete records
     */

  }, {
    key: "destroy",

    /**
     * @param type
     * @param ids
     * @param options
     */
    value: function () {
      var _destroy = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(type, ids) {
        var options,
            _args21 = arguments;
        return _regeneratorRuntime.wrap(function _callee21$(_context34) {
          while (1) {
            switch (_context34.prev = _context34.next) {
              case 0:
                options = _args21.length > 2 && _args21[2] !== undefined ? _args21[2] : {};
                return _context34.abrupt("return", _Array$isArray(ids) ? // check the version whether SObject collection API is supported (42.0)
                this._ensureVersion(42) ? this._destroyMany(type, ids, options) : this._destroyParallel(type, ids, options) : this._destroySingle(type, ids, options));

              case 2:
              case "end":
                return _context34.stop();
            }
          }
        }, _callee21, this);
      }));

      function destroy(_x49, _x50) {
        return _destroy.apply(this, arguments);
      }

      return destroy;
    }()
    /** @private */

  }, {
    key: "_destroySingle",
    value: function () {
      var _destroySingle2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22(type, id, options) {
        var url;
        return _regeneratorRuntime.wrap(function _callee22$(_context35) {
          while (1) {
            switch (_context35.prev = _context35.next) {
              case 0:
                url = [this._baseUrl(), 'sobjects', type, id].join('/');
                return _context35.abrupt("return", this.request({
                  method: 'DELETE',
                  url: url,
                  headers: options.headers || {}
                }, {
                  noContentResponse: {
                    id: id,
                    success: true,
                    errors: []
                  }
                }));

              case 2:
              case "end":
                return _context35.stop();
            }
          }
        }, _callee22, this);
      }));

      function _destroySingle(_x51, _x52, _x53) {
        return _destroySingle2.apply(this, arguments);
      }

      return _destroySingle;
    }()
    /** @private */

  }, {
    key: "_destroyParallel",
    value: function () {
      var _destroyParallel2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23(type, ids, options) {
        var _this8 = this;

        return _regeneratorRuntime.wrap(function _callee23$(_context36) {
          while (1) {
            switch (_context36.prev = _context36.next) {
              case 0:
                if (!(ids.length > this._maxRequest)) {
                  _context36.next = 2;
                  break;
                }

                throw new Error('Exceeded max limit of concurrent call');

              case 2:
                return _context36.abrupt("return", _Promise.all(_mapInstanceProperty(ids).call(ids, function (id) {
                  return _this8._destroySingle(type, id, options).catch(function (err) {
                    // Be aware that `allOrNone` option in parallel mode
                    // will not revert the other successful requests.
                    // It only raises error when met at least one failed request.
                    if (options.allOrNone || !err.errorCode) {
                      throw err;
                    }

                    return toSaveResult(err);
                  });
                })));

              case 3:
              case "end":
                return _context36.stop();
            }
          }
        }, _callee23, this);
      }));

      function _destroyParallel(_x54, _x55, _x56) {
        return _destroyParallel2.apply(this, arguments);
      }

      return _destroyParallel;
    }()
    /** @private */

  }, {
    key: "_destroyMany",
    value: function () {
      var _destroyMany2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee24(type, ids, options) {
        var _context37, url;

        return _regeneratorRuntime.wrap(function _callee24$(_context38) {
          while (1) {
            switch (_context38.prev = _context38.next) {
              case 0:
                if (!(ids.length === 0)) {
                  _context38.next = 2;
                  break;
                }

                return _context38.abrupt("return", []);

              case 2:
                if (!(ids.length > MAX_DML_COUNT && options.allowRecursive)) {
                  _context38.next = 16;
                  break;
                }

                _context38.t0 = _concatInstanceProperty(_context37 = []);
                _context38.t1 = _context37;
                _context38.t2 = _toConsumableArray;
                _context38.next = 8;
                return this._destroyMany(type, _sliceInstanceProperty(ids).call(ids, 0, MAX_DML_COUNT), options);

              case 8:
                _context38.t3 = _context38.sent;
                _context38.t4 = (0, _context38.t2)(_context38.t3);
                _context38.t5 = _toConsumableArray;
                _context38.next = 13;
                return this._destroyMany(type, _sliceInstanceProperty(ids).call(ids, MAX_DML_COUNT), options);

              case 13:
                _context38.t6 = _context38.sent;
                _context38.t7 = (0, _context38.t5)(_context38.t6);
                return _context38.abrupt("return", _context38.t0.call.call(_context38.t0, _context38.t1, _context38.t4, _context38.t7));

              case 16:
                url = [this._baseUrl(), 'composite', 'sobjects?ids='].join('/') + ids.join(',');

                if (options.allOrNone) {
                  url += '&allOrNone=true';
                }

                return _context38.abrupt("return", this.request({
                  method: 'DELETE',
                  url: url,
                  headers: options.headers || {}
                }));

              case 19:
              case "end":
                return _context38.stop();
            }
          }
        }, _callee24, this);
      }));

      function _destroyMany(_x57, _x58, _x59) {
        return _destroyMany2.apply(this, arguments);
      }

      return _destroyMany;
    }()
    /**
     * Synonym of Connection#destroy()
     */

  }, {
    key: "describe",

    /**
     * Describe SObject metadata
     */
    value: function () {
      var _describe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee25(type) {
        var url, body;
        return _regeneratorRuntime.wrap(function _callee25$(_context39) {
          while (1) {
            switch (_context39.prev = _context39.next) {
              case 0:
                url = [this._baseUrl(), 'sobjects', type, 'describe'].join('/');
                _context39.next = 3;
                return this.request(url);

              case 3:
                body = _context39.sent;
                return _context39.abrupt("return", body);

              case 5:
              case "end":
                return _context39.stop();
            }
          }
        }, _callee25, this);
      }));

      function describe(_x60) {
        return _describe.apply(this, arguments);
      }

      return describe;
    }()
    /**
     * Describe global SObjects
     */

  }, {
    key: "describeGlobal",
    value: function () {
      var _describeGlobal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee26() {
        var url, body;
        return _regeneratorRuntime.wrap(function _callee26$(_context40) {
          while (1) {
            switch (_context40.prev = _context40.next) {
              case 0:
                url = "".concat(this._baseUrl(), "/sobjects");
                _context40.next = 3;
                return this.request(url);

              case 3:
                body = _context40.sent;
                return _context40.abrupt("return", body);

              case 5:
              case "end":
                return _context40.stop();
            }
          }
        }, _callee26, this);
      }));

      function describeGlobal() {
        return _describeGlobal.apply(this, arguments);
      }

      return describeGlobal;
    }()
    /**
     * Get SObject instance
     */

  }, {
    key: "sobject",
    value: function sobject(type) {
      var so = this.sobjects[type] || new SObject(this, type);
      this.sobjects[type] = so;
      return so;
    }
    /**
     * Get identity information of current user
     */

  }, {
    key: "identity",
    value: function () {
      var _identity = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee27() {
        var options,
            url,
            _res,
            res,
            _args27 = arguments;

        return _regeneratorRuntime.wrap(function _callee27$(_context41) {
          while (1) {
            switch (_context41.prev = _context41.next) {
              case 0:
                options = _args27.length > 0 && _args27[0] !== undefined ? _args27[0] : {};
                url = this.userInfo && this.userInfo.url;

                if (url) {
                  _context41.next = 7;
                  break;
                }

                _context41.next = 5;
                return this.request({
                  method: 'GET',
                  url: this._baseUrl(),
                  headers: options.headers
                });

              case 5:
                _res = _context41.sent;
                url = _res.identity;

              case 7:
                url += '?format=json';

                if (this.accessToken) {
                  url += "&oauth_token=".concat(encodeURIComponent(this.accessToken));
                }

                _context41.next = 11;
                return this.request({
                  method: 'GET',
                  url: url
                });

              case 11:
                res = _context41.sent;
                this.userInfo = {
                  id: res.user_id,
                  organizationId: res.organization_id,
                  url: res.id
                };
                return _context41.abrupt("return", res);

              case 14:
              case "end":
                return _context41.stop();
            }
          }
        }, _callee27, this);
      }));

      function identity() {
        return _identity.apply(this, arguments);
      }

      return identity;
    }()
    /**
     * List recently viewed records
     */

  }, {
    key: "recent",
    value: function () {
      var _recent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee28(type, limit) {
        var url, _yield$this$request, recentItems;

        return _regeneratorRuntime.wrap(function _callee28$(_context42) {
          while (1) {
            switch (_context42.prev = _context42.next) {
              case 0:
                /* eslint-disable no-param-reassign */
                if (typeof type === 'number') {
                  limit = type;
                  type = undefined;
                }

                if (!type) {
                  _context42.next = 8;
                  break;
                }

                url = [this._baseUrl(), 'sobjects', type].join('/');
                _context42.next = 5;
                return this.request(url);

              case 5:
                _yield$this$request = _context42.sent;
                recentItems = _yield$this$request.recentItems;
                return _context42.abrupt("return", limit ? _sliceInstanceProperty(recentItems).call(recentItems, 0, limit) : recentItems);

              case 8:
                url = "".concat(this._baseUrl(), "/recent");

                if (limit) {
                  url += "?limit=".concat(limit);
                }

                return _context42.abrupt("return", this.request(url));

              case 11:
              case "end":
                return _context42.stop();
            }
          }
        }, _callee28, this);
      }));

      function recent(_x61, _x62) {
        return _recent.apply(this, arguments);
      }

      return recent;
    }()
    /**
     * Retrieve updated records
     */

  }, {
    key: "updated",
    value: function () {
      var _updated = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee29(type, start, end) {
        var url, body;
        return _regeneratorRuntime.wrap(function _callee29$(_context43) {
          while (1) {
            switch (_context43.prev = _context43.next) {
              case 0:
                /* eslint-disable no-param-reassign */
                url = [this._baseUrl(), 'sobjects', type, 'updated'].join('/');

                if (typeof start === 'string') {
                  start = new Date(start);
                }

                start = formatDate(start);
                url += "?start=".concat(encodeURIComponent(start));

                if (typeof end === 'string') {
                  end = new Date(end);
                }

                end = formatDate(end);
                url += "&end=".concat(encodeURIComponent(end));
                _context43.next = 9;
                return this.request(url);

              case 9:
                body = _context43.sent;
                return _context43.abrupt("return", body);

              case 11:
              case "end":
                return _context43.stop();
            }
          }
        }, _callee29, this);
      }));

      function updated(_x63, _x64, _x65) {
        return _updated.apply(this, arguments);
      }

      return updated;
    }()
    /**
     * Retrieve deleted records
     */

  }, {
    key: "deleted",
    value: function () {
      var _deleted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee30(type, start, end) {
        var url, body;
        return _regeneratorRuntime.wrap(function _callee30$(_context44) {
          while (1) {
            switch (_context44.prev = _context44.next) {
              case 0:
                /* eslint-disable no-param-reassign */
                url = [this._baseUrl(), 'sobjects', type, 'deleted'].join('/');

                if (typeof start === 'string') {
                  start = new Date(start);
                }

                start = formatDate(start);
                url += "?start=".concat(encodeURIComponent(start));

                if (typeof end === 'string') {
                  end = new Date(end);
                }

                end = formatDate(end);
                url += "&end=".concat(encodeURIComponent(end));
                _context44.next = 9;
                return this.request(url);

              case 9:
                body = _context44.sent;
                return _context44.abrupt("return", body);

              case 11:
              case "end":
                return _context44.stop();
            }
          }
        }, _callee30, this);
      }));

      function deleted(_x66, _x67, _x68) {
        return _deleted.apply(this, arguments);
      }

      return deleted;
    }()
    /**
     * Returns a list of all tabs
     */

  }, {
    key: "tabs",
    value: function () {
      var _tabs = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee31() {
        var url, body;
        return _regeneratorRuntime.wrap(function _callee31$(_context45) {
          while (1) {
            switch (_context45.prev = _context45.next) {
              case 0:
                url = [this._baseUrl(), 'tabs'].join('/');
                _context45.next = 3;
                return this.request(url);

              case 3:
                body = _context45.sent;
                return _context45.abrupt("return", body);

              case 5:
              case "end":
                return _context45.stop();
            }
          }
        }, _callee31, this);
      }));

      function tabs() {
        return _tabs.apply(this, arguments);
      }

      return tabs;
    }()
    /**
     * Returns current system limit in the organization
     */

  }, {
    key: "limits",
    value: function () {
      var _limits = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee32() {
        var url, body;
        return _regeneratorRuntime.wrap(function _callee32$(_context46) {
          while (1) {
            switch (_context46.prev = _context46.next) {
              case 0:
                url = [this._baseUrl(), 'limits'].join('/');
                _context46.next = 3;
                return this.request(url);

              case 3:
                body = _context46.sent;
                return _context46.abrupt("return", body);

              case 5:
              case "end":
                return _context46.stop();
            }
          }
        }, _callee32, this);
      }));

      function limits() {
        return _limits.apply(this, arguments);
      }

      return limits;
    }()
    /**
     * Returns a theme info
     */

  }, {
    key: "theme",
    value: function () {
      var _theme = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee33() {
        var url, body;
        return _regeneratorRuntime.wrap(function _callee33$(_context47) {
          while (1) {
            switch (_context47.prev = _context47.next) {
              case 0:
                url = [this._baseUrl(), 'theme'].join('/');
                _context47.next = 3;
                return this.request(url);

              case 3:
                body = _context47.sent;
                return _context47.abrupt("return", body);

              case 5:
              case "end":
                return _context47.stop();
            }
          }
        }, _callee33, this);
      }));

      function theme() {
        return _theme.apply(this, arguments);
      }

      return theme;
    }()
    /**
     * Returns all registered global quick actions
     */

  }, {
    key: "quickActions",
    value: function () {
      var _quickActions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee34() {
        var body;
        return _regeneratorRuntime.wrap(function _callee34$(_context48) {
          while (1) {
            switch (_context48.prev = _context48.next) {
              case 0:
                _context48.next = 2;
                return this.request('/quickActions');

              case 2:
                body = _context48.sent;
                return _context48.abrupt("return", body);

              case 4:
              case "end":
                return _context48.stop();
            }
          }
        }, _callee34, this);
      }));

      function quickActions() {
        return _quickActions.apply(this, arguments);
      }

      return quickActions;
    }()
    /**
     * Get reference for specified global quick action
     */

  }, {
    key: "quickAction",
    value: function quickAction(actionName) {
      return new QuickAction(this, "/quickActions/".concat(actionName));
    }
    /**
     * Module which manages process rules and approval processes
     */

  }]);

  return Connection;
}(EventEmitter);

_defineProperty(Connection, "_logger", getLogger('connection'));

export default Connection;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25uZWN0aW9uLnRzIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsImpzZm9yY2UiLCJUcmFuc3BvcnQiLCJDYW52YXNUcmFuc3BvcnQiLCJYZFByb3h5VHJhbnNwb3J0IiwiSHR0cFByb3h5VHJhbnNwb3J0IiwiZ2V0TG9nZ2VyIiwiT0F1dGgyIiwiQ2FjaGUiLCJIdHRwQXBpIiwiU2Vzc2lvblJlZnJlc2hEZWxlZ2F0ZSIsIlF1ZXJ5IiwiU09iamVjdCIsIlF1aWNrQWN0aW9uIiwiUHJvY2VzcyIsImZvcm1hdERhdGUiLCJGb3JtRGF0YSIsImRlZmF1bHRDb25uZWN0aW9uQ29uZmlnIiwibG9naW5VcmwiLCJpbnN0YW5jZVVybCIsInZlcnNpb24iLCJsb2dMZXZlbCIsIm1heFJlcXVlc3QiLCJlc2MiLCJzdHIiLCJTdHJpbmciLCJyZXBsYWNlIiwicGFyc2VTaWduZWRSZXF1ZXN0Iiwic3IiLCJKU09OIiwicGFyc2UiLCJtc2ciLCJzcGxpdCIsInBvcCIsIkVycm9yIiwianNvbiIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInBhcnNlSWRVcmwiLCJ1cmwiLCJvcmdhbml6YXRpb25JZCIsImlkIiwib2F1dGhSZWZyZXNoRm4iLCJjb25uIiwiY2FsbGJhY2siLCJyZWZyZXNoVG9rZW4iLCJvYXV0aDIiLCJyZXMiLCJ1c2VySW5mbyIsIl9lc3RhYmxpc2giLCJpbnN0YW5jZV91cmwiLCJhY2Nlc3NUb2tlbiIsImFjY2Vzc190b2tlbiIsInVuZGVmaW5lZCIsImNyZWF0ZVVzZXJuYW1lUGFzc3dvcmRSZWZyZXNoRm4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibG9naW4iLCJ0b1NhdmVSZXN1bHQiLCJlcnIiLCJzdWNjZXNzIiwiZXJyb3JzIiwicmFpc2VOb01vZHVsZUVycm9yIiwibmFtZSIsIk1BWF9ETUxfQ09VTlQiLCJDb25uZWN0aW9uIiwiY29uZmlnIiwiY3JlYXRlIiwiZGVzdHJveSIsInByb3h5VXJsIiwiaHR0cFByb3h5IiwicmVmcmVzaEZuIiwiY2xpZW50SWQiLCJfcmVmcmVzaERlbGVnYXRlIiwiX21heFJlcXVlc3QiLCJfbG9nZ2VyIiwiY3JlYXRlSW5zdGFuY2UiLCJfbG9nTGV2ZWwiLCJfdHJhbnNwb3J0IiwiX2NhbGxPcHRpb25zIiwiY2FsbE9wdGlvbnMiLCJjYWNoZSIsImRlc2NyaWJlQ2FjaGVLZXkiLCJ0eXBlIiwiZGVzY3JpYmUiLCJwcm90b3R5cGUiLCJjcmVhdGVDYWNoZWRGdW5jdGlvbiIsImtleSIsInN0cmF0ZWd5IiwiZGVzY3JpYmUkIiwiZGVzY3JpYmUkJCIsImRlc2NyaWJlU09iamVjdCIsImRlc2NyaWJlU09iamVjdCQiLCJkZXNjcmliZVNPYmplY3QkJCIsImRlc2NyaWJlR2xvYmFsIiwiZGVzY3JpYmVHbG9iYWwkIiwiZGVzY3JpYmVHbG9iYWwkJCIsInNlc3Npb25JZCIsInNlcnZlclVybCIsInNpZ25lZFJlcXVlc3QiLCJlbWl0Iiwib3B0aW9ucyIsImpvaW4iLCJzaWduZWRSZXF1ZXN0T2JqZWN0IiwiY2xpZW50Iiwib2F1dGhUb2tlbiIsInN1cHBvcnRlZCIsIl9zZXNzaW9uVHlwZSIsIl9yZXNldEluc3RhbmNlIiwibGltaXRJbmZvIiwic29iamVjdHMiLCJjbGVhciIsImdldCIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9uIiwicmVzdWx0Iiwic28iLCJzb2JqZWN0IiwiY29kZSIsInBhcmFtcyIsInJlcXVlc3RUb2tlbiIsInJlZnJlc2hfdG9rZW4iLCJkZWJ1ZyIsImNsaWVudFNlY3JldCIsImxvZ2luQnlPQXV0aDIiLCJsb2dpbkJ5U29hcCIsImF1dGhlbnRpY2F0ZSIsImluZm8iLCJyZWplY3QiLCJib2R5Iiwic29hcExvZ2luRW5kcG9pbnQiLCJodHRwUmVxdWVzdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJTT0FQQWN0aW9uIiwicmVzcG9uc2UiLCJzdGF0dXNDb2RlIiwibSIsIm1hdGNoIiwiZmF1bHRzdHJpbmciLCJ1c2VySWQiLCJpZFVybCIsInJldm9rZSIsImxvZ291dEJ5T0F1dGgyIiwibG9nb3V0QnlTb2FwIiwidG9rZW4iLCJyZXZva2VUb2tlbiIsIl9jbGVhclNlc3Npb24iLCJyZXF1ZXN0IiwicmVxdWVzdF8iLCJfbm9ybWFsaXplVXJsIiwiaHR0cEFwaSIsImFwaVVzYWdlIiwidXNlZCIsImxpbWl0IiwiX2Jhc2VVcmwiLCJzb3FsIiwic29zbCIsImVuY29kZVVSSUNvbXBvbmVudCIsImxvY2F0b3IiLCJtYWpvclZlcnNpb24iLCJ2ZXJzaW9ucyIsImZlYXR1cmUiLCJfZW5zdXJlVmVyc2lvbiIsImlkcyIsIl9yZXRyaWV2ZU1hbnkiLCJfcmV0cmlldmVQYXJhbGxlbCIsIl9yZXRyaWV2ZVNpbmdsZSIsImZpZWxkcyIsImxlbmd0aCIsImFsbCIsImNhdGNoIiwiYWxsT3JOb25lIiwiZXJyb3JDb2RlIiwiZmllbGQiLCJyZWNvcmRzIiwiX2NyZWF0ZU1hbnkiLCJfY3JlYXRlUGFyYWxsZWwiLCJfY3JlYXRlU2luZ2xlIiwicmV0IiwicmVjb3JkIiwiSWQiLCJydHlwZSIsImF0dHJpYnV0ZXMiLCJyZWMiLCJzb2JqZWN0VHlwZSIsIm11bHRpcGFydEZpbGVGaWVsZHMiLCJmb3JtIiwiZmllbGROYW1lIiwiZmlsZURldGFpbHMiLCJhcHBlbmQiLCJjb250ZW50VHlwZSIsImdldEhlYWRlcnMiLCJyZXNvbHZlIiwiYWxsb3dSZWN1cnNpdmUiLCJfcmVjb3JkcyIsIl91cGRhdGVNYW55IiwiX3VwZGF0ZVBhcmFsbGVsIiwiX3VwZGF0ZVNpbmdsZSIsIm5vQ29udGVudFJlc3BvbnNlIiwiZXh0SWRGaWVsZCIsImlzQXJyYXkiLCJleHRJZCIsInJlc3VsdHMiLCJfZGVzdHJveU1hbnkiLCJfZGVzdHJveVBhcmFsbGVsIiwiX2Rlc3Ryb3lTaW5nbGUiLCJpZGVudGl0eSIsInVzZXJfaWQiLCJvcmdhbml6YXRpb25faWQiLCJyZWNlbnRJdGVtcyIsInN0YXJ0IiwiZW5kIiwiRGF0ZSIsImFjdGlvbk5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBczBDRTtBQUNGO0FBQ0E7O0FBeDBDQTtBQUFBO0FBQUEsZ0NBeTBDY3FGLFVBejBDZCxFQXkwQ2tEO0FBQzlDLGFBQU8sSUFBSTFNLFdBQUosQ0FBZ0IsSUFBaEIsMEJBQXVDME0sVUFBdkMsRUFBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBOztBQS8wQ0E7O0FBQUE7QUFBQSxFQUEyRHZOLFlBQTNEOztnQkFBYWtFLFUsYUFDTTVELFNBQVMsQ0FBQyxZQUFELEM7O0FBazFDNUIsZUFBZTRELFVBQWYiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKi9cbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQganNmb3JjZSBmcm9tICcuL2pzZm9yY2UnO1xuaW1wb3J0IHtcbiAgSHR0cFJlcXVlc3QsXG4gIEh0dHBSZXNwb25zZSxcbiAgQ2FsbGJhY2ssXG4gIFJlY29yZCxcbiAgU2F2ZVJlc3VsdCxcbiAgVXBzZXJ0UmVzdWx0LFxuICBEZXNjcmliZUdsb2JhbFJlc3VsdCxcbiAgRGVzY3JpYmVTT2JqZWN0UmVzdWx0LFxuICBEZXNjcmliZVRhYixcbiAgRGVzY3JpYmVUaGVtZSxcbiAgRGVzY3JpYmVRdWlja0FjdGlvblJlc3VsdCxcbiAgVXBkYXRlZFJlc3VsdCxcbiAgRGVsZXRlZFJlc3VsdCxcbiAgU2VhcmNoUmVzdWx0LFxuICBPcmdhbml6YXRpb25MaW1pdHNJbmZvLFxuICBPcHRpb25hbCxcbiAgU2lnbmVkUmVxdWVzdE9iamVjdCxcbiAgU2F2ZUVycm9yLFxuICBEbWxPcHRpb25zLFxuICBSZXRyaWV2ZU9wdGlvbnMsXG4gIFNjaGVtYSxcbiAgU09iamVjdE5hbWVzLFxuICBTT2JqZWN0SW5wdXRSZWNvcmQsXG4gIFNPYmplY3RVcGRhdGVSZWNvcmQsXG4gIFNPYmplY3RGaWVsZE5hbWVzLFxuICBVc2VySW5mbyxcbiAgSWRlbnRpdHlJbmZvLFxuICBMaW1pdEluZm8sXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgU3RyZWFtUHJvbWlzZSB9IGZyb20gJy4vdXRpbC9wcm9taXNlJztcbmltcG9ydCBUcmFuc3BvcnQsIHtcbiAgQ2FudmFzVHJhbnNwb3J0LFxuICBYZFByb3h5VHJhbnNwb3J0LFxuICBIdHRwUHJveHlUcmFuc3BvcnQsXG59IGZyb20gJy4vdHJhbnNwb3J0JztcbmltcG9ydCB7IExvZ2dlciwgZ2V0TG9nZ2VyIH0gZnJvbSAnLi91dGlsL2xvZ2dlcic7XG5pbXBvcnQgeyBMb2dMZXZlbENvbmZpZyB9IGZyb20gJy4vdXRpbC9sb2dnZXInO1xuaW1wb3J0IE9BdXRoMiwgeyBUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi9vYXV0aDInO1xuaW1wb3J0IHsgT0F1dGgyQ29uZmlnIH0gZnJvbSAnLi9vYXV0aDInO1xuaW1wb3J0IENhY2hlLCB7IENhY2hlZEZ1bmN0aW9uIH0gZnJvbSAnLi9jYWNoZSc7XG5pbXBvcnQgSHR0cEFwaSBmcm9tICcuL2h0dHAtYXBpJztcbmltcG9ydCBTZXNzaW9uUmVmcmVzaERlbGVnYXRlLCB7XG4gIFNlc3Npb25SZWZyZXNoRnVuYyxcbn0gZnJvbSAnLi9zZXNzaW9uLXJlZnJlc2gtZGVsZWdhdGUnO1xuaW1wb3J0IFF1ZXJ5IGZyb20gJy4vcXVlcnknO1xuaW1wb3J0IHsgUXVlcnlPcHRpb25zIH0gZnJvbSAnLi9xdWVyeSc7XG5pbXBvcnQgU09iamVjdCBmcm9tICcuL3NvYmplY3QnO1xuaW1wb3J0IFF1aWNrQWN0aW9uIGZyb20gJy4vcXVpY2stYWN0aW9uJztcbmltcG9ydCBQcm9jZXNzIGZyb20gJy4vcHJvY2Vzcyc7XG5pbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnLi91dGlsL2Zvcm1hdHRlcic7XG5pbXBvcnQgQW5hbHl0aWNzIGZyb20gJy4vYXBpL2FuYWx5dGljcyc7XG5pbXBvcnQgQXBleCBmcm9tICcuL2FwaS9hcGV4JztcbmltcG9ydCB7IEJ1bGssIEJ1bGtWMiB9IGZyb20gJy4vYXBpL2J1bGsnO1xuaW1wb3J0IENoYXR0ZXIgZnJvbSAnLi9hcGkvY2hhdHRlcic7XG5pbXBvcnQgTWV0YWRhdGEgZnJvbSAnLi9hcGkvbWV0YWRhdGEnO1xuaW1wb3J0IFNvYXBBcGkgZnJvbSAnLi9hcGkvc29hcCc7XG5pbXBvcnQgU3RyZWFtaW5nIGZyb20gJy4vYXBpL3N0cmVhbWluZyc7XG5pbXBvcnQgVG9vbGluZyBmcm9tICcuL2FwaS90b29saW5nJztcbmltcG9ydCB7IEp3dE9BdXRoMkNvbmZpZywgSnd0T0F1dGgyIH0gZnJvbSAnLi9qd3RPQXV0aDInO1xuaW1wb3J0IEZvcm1EYXRhIGZyb20gJ2Zvcm0tZGF0YSc7XG5cbi8qKlxuICogdHlwZSBkZWZpbml0aW9uc1xuICovXG5leHBvcnQgdHlwZSBDb25uZWN0aW9uQ29uZmlnPFMgZXh0ZW5kcyBTY2hlbWEgPSBTY2hlbWE+ID0ge1xuICB2ZXJzaW9uPzogc3RyaW5nO1xuICBsb2dpblVybD86IHN0cmluZztcbiAgYWNjZXNzVG9rZW4/OiBzdHJpbmc7XG4gIHJlZnJlc2hUb2tlbj86IHN0cmluZztcbiAgaW5zdGFuY2VVcmw/OiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbiAgc2VydmVyVXJsPzogc3RyaW5nO1xuICBzaWduZWRSZXF1ZXN0Pzogc3RyaW5nO1xuICBvYXV0aDI/OiBPQXV0aDIgfCBPQXV0aDJDb25maWc7XG4gIGp3dE9BdXRoMj86IEp3dE9BdXRoMiB8IEp3dE9BdXRoMkNvbmZpZztcbiAgbWF4UmVxdWVzdD86IG51bWJlcjtcbiAgcHJveHlVcmw/OiBzdHJpbmc7XG4gIGh0dHBQcm94eT86IHN0cmluZztcbiAgbG9nTGV2ZWw/OiBMb2dMZXZlbENvbmZpZztcbiAgY2FsbE9wdGlvbnM/OiB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgcmVmcmVzaEZuPzogU2Vzc2lvblJlZnJlc2hGdW5jPFM+O1xufTtcblxuZXhwb3J0IHR5cGUgQ29ubmVjdGlvbkVzdGFibGlzaE9wdGlvbnMgPSB7XG4gIGFjY2Vzc1Rva2VuPzogT3B0aW9uYWw8c3RyaW5nPjtcbiAgcmVmcmVzaFRva2VuPzogT3B0aW9uYWw8c3RyaW5nPjtcbiAgaW5zdGFuY2VVcmw/OiBPcHRpb25hbDxzdHJpbmc+O1xuICBzZXNzaW9uSWQ/OiBPcHRpb25hbDxzdHJpbmc+O1xuICBzZXJ2ZXJVcmw/OiBPcHRpb25hbDxzdHJpbmc+O1xuICBzaWduZWRSZXF1ZXN0PzogT3B0aW9uYWw8c3RyaW5nIHwgU2lnbmVkUmVxdWVzdE9iamVjdD47XG4gIHVzZXJJbmZvPzogT3B0aW9uYWw8VXNlckluZm8+O1xufTtcblxuLyoqXG4gKlxuICovXG5jb25zdCBkZWZhdWx0Q29ubmVjdGlvbkNvbmZpZzoge1xuICBsb2dpblVybDogc3RyaW5nO1xuICBpbnN0YW5jZVVybDogc3RyaW5nO1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIGxvZ0xldmVsOiBMb2dMZXZlbENvbmZpZztcbiAgbWF4UmVxdWVzdDogbnVtYmVyO1xufSA9IHtcbiAgbG9naW5Vcmw6ICdodHRwczovL2xvZ2luLnNhbGVzZm9yY2UuY29tJyxcbiAgaW5zdGFuY2VVcmw6ICcnLFxuICB2ZXJzaW9uOiAnNTAuMCcsXG4gIGxvZ0xldmVsOiAnTk9ORScsXG4gIG1heFJlcXVlc3Q6IDEwLFxufTtcblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBlc2Moc3RyOiBPcHRpb25hbDxzdHJpbmc+KTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZyhzdHIgfHwgJycpXG4gICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59XG5cbi8qKlxuICpcbiAqL1xuZnVuY3Rpb24gcGFyc2VTaWduZWRSZXF1ZXN0KHNyOiBzdHJpbmcgfCBPYmplY3QpOiBTaWduZWRSZXF1ZXN0T2JqZWN0IHtcbiAgaWYgKHR5cGVvZiBzciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoc3JbMF0gPT09ICd7Jykge1xuICAgICAgLy8gbWlnaHQgYmUgSlNPTlxuICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3IpO1xuICAgIH0gLy8gbWlnaHQgYmUgb3JpZ2luYWwgYmFzZTY0LWVuY29kZWQgc2lnbmVkIHJlcXVlc3RcbiAgICBjb25zdCBtc2cgPSBzci5zcGxpdCgnLicpLnBvcCgpOyAvLyByZXRyaWV2ZSBsYXR0ZXIgcGFydFxuICAgIGlmICghbXNnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2lnbmVkIHJlcXVlc3QnKTtcbiAgICB9XG4gICAgY29uc3QganNvbiA9IEJ1ZmZlci5mcm9tKG1zZywgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGYtOCcpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICB9XG4gIHJldHVybiBzciBhcyBTaWduZWRSZXF1ZXN0T2JqZWN0O1xufVxuXG4vKiogQHByaXZhdGUgKiovXG5mdW5jdGlvbiBwYXJzZUlkVXJsKHVybDogc3RyaW5nKSB7XG4gIGNvbnN0IFtvcmdhbml6YXRpb25JZCwgaWRdID0gdXJsLnNwbGl0KCcvJykuc2xpY2UoLTIpO1xuICByZXR1cm4geyBpZCwgb3JnYW5pemF0aW9uSWQsIHVybCB9O1xufVxuXG4vKipcbiAqIFNlc3Npb24gUmVmcmVzaCBkZWxlZ2F0ZSBmdW5jdGlvbiBmb3IgT0F1dGgyIGF1dGh6IGNvZGUgZmxvd1xuICogQHByaXZhdGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gb2F1dGhSZWZyZXNoRm48UyBleHRlbmRzIFNjaGVtYT4oXG4gIGNvbm46IENvbm5lY3Rpb248Uz4sXG4gIGNhbGxiYWNrOiBDYWxsYmFjazxzdHJpbmcsIFRva2VuUmVzcG9uc2U+LFxuKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFjb25uLnJlZnJlc2hUb2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZWZyZXNoIHRva2VuIGZvdW5kIGluIHRoZSBjb25uZWN0aW9uJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNvbm4ub2F1dGgyLnJlZnJlc2hUb2tlbihjb25uLnJlZnJlc2hUb2tlbik7XG4gICAgY29uc3QgdXNlckluZm8gPSBwYXJzZUlkVXJsKHJlcy5pZCk7XG4gICAgY29ubi5fZXN0YWJsaXNoKHtcbiAgICAgIGluc3RhbmNlVXJsOiByZXMuaW5zdGFuY2VfdXJsLFxuICAgICAgYWNjZXNzVG9rZW46IHJlcy5hY2Nlc3NfdG9rZW4sXG4gICAgICB1c2VySW5mbyxcbiAgICB9KTtcbiAgICBjYWxsYmFjayh1bmRlZmluZWQsIHJlcy5hY2Nlc3NfdG9rZW4sIHJlcyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNlc3Npb24gUmVmcmVzaCBkZWxlZ2F0ZSBmdW5jdGlvbiBmb3IgdXNlcm5hbWUvcGFzc3dvcmQgbG9naW5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVzZXJuYW1lUGFzc3dvcmRSZWZyZXNoRm48UyBleHRlbmRzIFNjaGVtYT4oXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4pIHtcbiAgcmV0dXJuIGFzeW5jIChcbiAgICBjb25uOiBDb25uZWN0aW9uPFM+LFxuICAgIGNhbGxiYWNrOiBDYWxsYmFjazxzdHJpbmcsIFRva2VuUmVzcG9uc2U+LFxuICApID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29ubi5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgaWYgKCFjb25uLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIHRva2VuIG5vdCBmb3VuZCBhZnRlciBsb2dpbicpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgY29ubi5hY2Nlc3NUb2tlbik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdG9TYXZlUmVzdWx0KGVycjogU2F2ZUVycm9yKTogU2F2ZVJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgZXJyb3JzOiBbZXJyXSxcbiAgfTtcbn1cblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiByYWlzZU5vTW9kdWxlRXJyb3IobmFtZTogc3RyaW5nKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYEFQSSBtb2R1bGUgJyR7bmFtZX0nIGlzIG5vdCBsb2FkZWQsIGxvYWQgJ2pzZm9yY2UvYXBpLyR7bmFtZX0nIGV4cGxpY2l0bHlgLFxuICApO1xufVxuXG4vKlxuICogQ29uc3RhbnQgb2YgbWF4aW11bSByZWNvcmRzIG51bSBpbiBETUwgb3BlcmF0aW9uICh1cGRhdGUvZGVsZXRlKVxuICovXG5jb25zdCBNQVhfRE1MX0NPVU5UID0gMjAwO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uPFMgZXh0ZW5kcyBTY2hlbWEgPSBTY2hlbWE+IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgc3RhdGljIF9sb2dnZXIgPSBnZXRMb2dnZXIoJ2Nvbm5lY3Rpb24nKTtcblxuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIGxvZ2luVXJsOiBzdHJpbmc7XG4gIGluc3RhbmNlVXJsOiBzdHJpbmc7XG4gIGFjY2Vzc1Rva2VuOiBPcHRpb25hbDxzdHJpbmc+O1xuICByZWZyZXNoVG9rZW46IE9wdGlvbmFsPHN0cmluZz47XG4gIHVzZXJJbmZvOiBPcHRpb25hbDxVc2VySW5mbz47XG4gIGxpbWl0SW5mbzogTGltaXRJbmZvID0ge307XG4gIG9hdXRoMjogT0F1dGgyO1xuICBzb2JqZWN0czogeyBbTiBpbiBTT2JqZWN0TmFtZXM8Uz5dPzogU09iamVjdDxTLCBOPiB9ID0ge307XG4gIGNhY2hlOiBDYWNoZTtcbiAgX2NhbGxPcHRpb25zOiBPcHRpb25hbDx7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfT47XG4gIF9tYXhSZXF1ZXN0OiBudW1iZXI7XG4gIF9sb2dnZXI6IExvZ2dlcjtcbiAgX2xvZ0xldmVsOiBPcHRpb25hbDxMb2dMZXZlbENvbmZpZz47XG4gIF90cmFuc3BvcnQ6IFRyYW5zcG9ydDtcbiAgX3Nlc3Npb25UeXBlOiBPcHRpb25hbDwnc29hcCcgfCAnb2F1dGgyJz47XG4gIF9yZWZyZXNoRGVsZWdhdGU6IE9wdGlvbmFsPFNlc3Npb25SZWZyZXNoRGVsZWdhdGU8Uz4+O1xuXG4gIC8vIGRlc2NyaWJlOiAobmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPERlc2NyaWJlU09iamVjdFJlc3VsdD47XG4gIGRlc2NyaWJlJDogQ2FjaGVkRnVuY3Rpb248KG5hbWU6IHN0cmluZykgPT4gUHJvbWlzZTxEZXNjcmliZVNPYmplY3RSZXN1bHQ+PjtcbiAgZGVzY3JpYmUkJDogQ2FjaGVkRnVuY3Rpb248KG5hbWU6IHN0cmluZykgPT4gRGVzY3JpYmVTT2JqZWN0UmVzdWx0PjtcbiAgZGVzY3JpYmVTT2JqZWN0OiAobmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPERlc2NyaWJlU09iamVjdFJlc3VsdD47XG4gIGRlc2NyaWJlU09iamVjdCQ6IENhY2hlZEZ1bmN0aW9uPFxuICAgIChuYW1lOiBzdHJpbmcpID0+IFByb21pc2U8RGVzY3JpYmVTT2JqZWN0UmVzdWx0PlxuICA+O1xuICBkZXNjcmliZVNPYmplY3QkJDogQ2FjaGVkRnVuY3Rpb248KG5hbWU6IHN0cmluZykgPT4gRGVzY3JpYmVTT2JqZWN0UmVzdWx0PjtcbiAgLy8gZGVzY3JpYmVHbG9iYWw6ICgpID0+IFByb21pc2U8RGVzY3JpYmVHbG9iYWxSZXN1bHQ+O1xuICBkZXNjcmliZUdsb2JhbCQ6IENhY2hlZEZ1bmN0aW9uPCgpID0+IFByb21pc2U8RGVzY3JpYmVHbG9iYWxSZXN1bHQ+PjtcbiAgZGVzY3JpYmVHbG9iYWwkJDogQ2FjaGVkRnVuY3Rpb248KCkgPT4gRGVzY3JpYmVHbG9iYWxSZXN1bHQ+O1xuXG4gIC8vIEFQSSBsaWJzIGFyZSBub3QgaW5zdGFudGlhdGVkIGhlcmUgc28gdGhhdCBjb3JlIG1vZHVsZSB0byByZW1haW4gd2l0aG91dCBkZXBlbmRlbmNpZXMgdG8gdGhlbVxuICAvLyBJdCBpcyByZXNwb25zaWJsZSBmb3IgZGV2ZWxvcGVycyB0byBpbXBvcnQgYXBpIGxpYnMgZXhwbGljaXRseSBpZiB0aGV5IGFyZSB1c2luZyAnanNmb3JjZS9jb3JlJyBpbnN0ZWFkIG9mICdqc2ZvcmNlJy5cbiAgZ2V0IGFuYWx5dGljcygpOiBBbmFseXRpY3M8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ2FuYWx5dGljcycpO1xuICB9XG5cbiAgZ2V0IGFwZXgoKTogQXBleDxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignYXBleCcpO1xuICB9XG5cbiAgZ2V0IGJ1bGsoKTogQnVsazxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignYnVsaycpO1xuICB9XG5cbiAgZ2V0IGJ1bGsyKCk6IEJ1bGtWMjxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignYnVsazInKTtcbiAgfVxuXG4gIGdldCBjaGF0dGVyKCk6IENoYXR0ZXI8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ2NoYXR0ZXInKTtcbiAgfVxuXG4gIGdldCBtZXRhZGF0YSgpOiBNZXRhZGF0YTxTPiB7XG4gICAgcmV0dXJuIHJhaXNlTm9Nb2R1bGVFcnJvcignbWV0YWRhdGEnKTtcbiAgfVxuXG4gIGdldCBzb2FwKCk6IFNvYXBBcGk8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ3NvYXAnKTtcbiAgfVxuXG4gIGdldCBzdHJlYW1pbmcoKTogU3RyZWFtaW5nPFM+IHtcbiAgICByZXR1cm4gcmFpc2VOb01vZHVsZUVycm9yKCdzdHJlYW1pbmcnKTtcbiAgfVxuXG4gIGdldCB0b29saW5nKCk6IFRvb2xpbmc8Uz4ge1xuICAgIHJldHVybiByYWlzZU5vTW9kdWxlRXJyb3IoJ3Rvb2xpbmcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnOiBDb25uZWN0aW9uQ29uZmlnPFM+ID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHtcbiAgICAgIGxvZ2luVXJsLFxuICAgICAgaW5zdGFuY2VVcmwsXG4gICAgICB2ZXJzaW9uLFxuICAgICAgb2F1dGgyLFxuICAgICAgbWF4UmVxdWVzdCxcbiAgICAgIGxvZ0xldmVsLFxuICAgICAgcHJveHlVcmwsXG4gICAgICBodHRwUHJveHksXG4gICAgfSA9IGNvbmZpZztcbiAgICB0aGlzLmxvZ2luVXJsID0gbG9naW5VcmwgfHwgZGVmYXVsdENvbm5lY3Rpb25Db25maWcubG9naW5Vcmw7XG4gICAgdGhpcy5pbnN0YW5jZVVybCA9IGluc3RhbmNlVXJsIHx8IGRlZmF1bHRDb25uZWN0aW9uQ29uZmlnLmluc3RhbmNlVXJsO1xuICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb24gfHwgZGVmYXVsdENvbm5lY3Rpb25Db25maWcudmVyc2lvbjtcbiAgICB0aGlzLm9hdXRoMiA9XG4gICAgICBvYXV0aDIgaW5zdGFuY2VvZiBPQXV0aDJcbiAgICAgICAgPyBvYXV0aDJcbiAgICAgICAgOiBuZXcgT0F1dGgyKHtcbiAgICAgICAgICAgIGxvZ2luVXJsOiB0aGlzLmxvZ2luVXJsLFxuICAgICAgICAgICAgcHJveHlVcmwsXG4gICAgICAgICAgICBodHRwUHJveHksXG4gICAgICAgICAgICAuLi5vYXV0aDIsXG4gICAgICAgICAgfSk7XG4gICAgbGV0IHJlZnJlc2hGbiA9IGNvbmZpZy5yZWZyZXNoRm47XG4gICAgaWYgKCFyZWZyZXNoRm4gJiYgdGhpcy5vYXV0aDIuY2xpZW50SWQpIHtcbiAgICAgIHJlZnJlc2hGbiA9IG9hdXRoUmVmcmVzaEZuO1xuICAgIH1cbiAgICBpZiAocmVmcmVzaEZuKSB7XG4gICAgICB0aGlzLl9yZWZyZXNoRGVsZWdhdGUgPSBuZXcgU2Vzc2lvblJlZnJlc2hEZWxlZ2F0ZSh0aGlzLCByZWZyZXNoRm4pO1xuICAgIH1cbiAgICB0aGlzLl9tYXhSZXF1ZXN0ID0gbWF4UmVxdWVzdCB8fCBkZWZhdWx0Q29ubmVjdGlvbkNvbmZpZy5tYXhSZXF1ZXN0O1xuICAgIHRoaXMuX2xvZ2dlciA9IGxvZ0xldmVsXG4gICAgICA/IENvbm5lY3Rpb24uX2xvZ2dlci5jcmVhdGVJbnN0YW5jZShsb2dMZXZlbClcbiAgICAgIDogQ29ubmVjdGlvbi5fbG9nZ2VyO1xuICAgIHRoaXMuX2xvZ0xldmVsID0gbG9nTGV2ZWw7XG4gICAgdGhpcy5fdHJhbnNwb3J0ID0gcHJveHlVcmxcbiAgICAgID8gbmV3IFhkUHJveHlUcmFuc3BvcnQocHJveHlVcmwpXG4gICAgICA6IGh0dHBQcm94eVxuICAgICAgPyBuZXcgSHR0cFByb3h5VHJhbnNwb3J0KGh0dHBQcm94eSlcbiAgICAgIDogbmV3IFRyYW5zcG9ydCgpO1xuICAgIHRoaXMuX2NhbGxPcHRpb25zID0gY29uZmlnLmNhbGxPcHRpb25zO1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgQ2FjaGUoKTtcbiAgICBjb25zdCBkZXNjcmliZUNhY2hlS2V5ID0gKHR5cGU/OiBzdHJpbmcpID0+XG4gICAgICB0eXBlID8gYGRlc2NyaWJlLiR7dHlwZX1gIDogJ2Rlc2NyaWJlJztcbiAgICBjb25zdCBkZXNjcmliZSA9IENvbm5lY3Rpb24ucHJvdG90eXBlLmRlc2NyaWJlO1xuICAgIHRoaXMuZGVzY3JpYmUgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKGRlc2NyaWJlLCB0aGlzLCB7XG4gICAgICBrZXk6IGRlc2NyaWJlQ2FjaGVLZXksXG4gICAgICBzdHJhdGVneTogJ05PQ0FDSEUnLFxuICAgIH0pO1xuICAgIHRoaXMuZGVzY3JpYmUkID0gdGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihkZXNjcmliZSwgdGhpcywge1xuICAgICAga2V5OiBkZXNjcmliZUNhY2hlS2V5LFxuICAgICAgc3RyYXRlZ3k6ICdISVQnLFxuICAgIH0pO1xuICAgIHRoaXMuZGVzY3JpYmUkJCA9IHRoaXMuY2FjaGUuY3JlYXRlQ2FjaGVkRnVuY3Rpb24oZGVzY3JpYmUsIHRoaXMsIHtcbiAgICAgIGtleTogZGVzY3JpYmVDYWNoZUtleSxcbiAgICAgIHN0cmF0ZWd5OiAnSU1NRURJQVRFJyxcbiAgICB9KSBhcyBhbnk7XG4gICAgdGhpcy5kZXNjcmliZVNPYmplY3QgPSB0aGlzLmRlc2NyaWJlO1xuICAgIHRoaXMuZGVzY3JpYmVTT2JqZWN0JCA9IHRoaXMuZGVzY3JpYmUkO1xuICAgIHRoaXMuZGVzY3JpYmVTT2JqZWN0JCQgPSB0aGlzLmRlc2NyaWJlJCQ7XG4gICAgY29uc3QgZGVzY3JpYmVHbG9iYWwgPSBDb25uZWN0aW9uLnByb3RvdHlwZS5kZXNjcmliZUdsb2JhbDtcbiAgICB0aGlzLmRlc2NyaWJlR2xvYmFsID0gdGhpcy5jYWNoZS5jcmVhdGVDYWNoZWRGdW5jdGlvbihcbiAgICAgIGRlc2NyaWJlR2xvYmFsLFxuICAgICAgdGhpcyxcbiAgICAgIHsga2V5OiAnZGVzY3JpYmVHbG9iYWwnLCBzdHJhdGVneTogJ05PQ0FDSEUnIH0sXG4gICAgKTtcbiAgICB0aGlzLmRlc2NyaWJlR2xvYmFsJCA9IHRoaXMuY2FjaGUuY3JlYXRlQ2FjaGVkRnVuY3Rpb24oXG4gICAgICBkZXNjcmliZUdsb2JhbCxcbiAgICAgIHRoaXMsXG4gICAgICB7IGtleTogJ2Rlc2NyaWJlR2xvYmFsJywgc3RyYXRlZ3k6ICdISVQnIH0sXG4gICAgKTtcbiAgICB0aGlzLmRlc2NyaWJlR2xvYmFsJCQgPSB0aGlzLmNhY2hlLmNyZWF0ZUNhY2hlZEZ1bmN0aW9uKFxuICAgICAgZGVzY3JpYmVHbG9iYWwsXG4gICAgICB0aGlzLFxuICAgICAgeyBrZXk6ICdkZXNjcmliZUdsb2JhbCcsIHN0cmF0ZWd5OiAnSU1NRURJQVRFJyB9LFxuICAgICkgYXMgYW55O1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY2Vzc1Rva2VuLFxuICAgICAgcmVmcmVzaFRva2VuLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgc2VydmVyVXJsLFxuICAgICAgc2lnbmVkUmVxdWVzdCxcbiAgICB9ID0gY29uZmlnO1xuICAgIHRoaXMuX2VzdGFibGlzaCh7XG4gICAgICBhY2Nlc3NUb2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgIGluc3RhbmNlVXJsLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgc2VydmVyVXJsLFxuICAgICAgc2lnbmVkUmVxdWVzdCxcbiAgICB9KTtcblxuICAgIGpzZm9yY2UuZW1pdCgnY29ubmVjdGlvbjpuZXcnLCB0aGlzKTtcbiAgfVxuXG4gIC8qIEBwcml2YXRlICovXG4gIF9lc3RhYmxpc2gob3B0aW9uczogQ29ubmVjdGlvbkVzdGFibGlzaE9wdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBhY2Nlc3NUb2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgIGluc3RhbmNlVXJsLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgc2VydmVyVXJsLFxuICAgICAgc2lnbmVkUmVxdWVzdCxcbiAgICAgIHVzZXJJbmZvLFxuICAgIH0gPSBvcHRpb25zO1xuICAgIHRoaXMuaW5zdGFuY2VVcmwgPSBzZXJ2ZXJVcmxcbiAgICAgID8gc2VydmVyVXJsLnNwbGl0KCcvJykuc2xpY2UoMCwgMykuam9pbignLycpXG4gICAgICA6IGluc3RhbmNlVXJsIHx8IHRoaXMuaW5zdGFuY2VVcmw7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IHNlc3Npb25JZCB8fCBhY2Nlc3NUb2tlbiB8fCB0aGlzLmFjY2Vzc1Rva2VuO1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuIHx8IHRoaXMucmVmcmVzaFRva2VuO1xuICAgIGlmICh0aGlzLnJlZnJlc2hUb2tlbiAmJiAhdGhpcy5fcmVmcmVzaERlbGVnYXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdSZWZyZXNoIHRva2VuIGlzIHNwZWNpZmllZCB3aXRob3V0IG9hdXRoMiBjbGllbnQgaW5mb3JtYXRpb24gb3IgcmVmcmVzaCBmdW5jdGlvbicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzaWduZWRSZXF1ZXN0T2JqZWN0ID1cbiAgICAgIHNpZ25lZFJlcXVlc3QgJiYgcGFyc2VTaWduZWRSZXF1ZXN0KHNpZ25lZFJlcXVlc3QpO1xuICAgIGlmIChzaWduZWRSZXF1ZXN0T2JqZWN0KSB7XG4gICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gc2lnbmVkUmVxdWVzdE9iamVjdC5jbGllbnQub2F1dGhUb2tlbjtcbiAgICAgIGlmIChDYW52YXNUcmFuc3BvcnQuc3VwcG9ydGVkKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IG5ldyBDYW52YXNUcmFuc3BvcnQoc2lnbmVkUmVxdWVzdE9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbyB8fCB0aGlzLnVzZXJJbmZvO1xuICAgIHRoaXMuX3Nlc3Npb25UeXBlID0gc2Vzc2lvbklkID8gJ3NvYXAnIDogJ29hdXRoMic7XG4gICAgdGhpcy5fcmVzZXRJbnN0YW5jZSgpO1xuICB9XG5cbiAgLyogQHByaXZlYXRlICovXG4gIF9jbGVhclNlc3Npb24oKSB7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG51bGw7XG4gICAgdGhpcy5yZWZyZXNoVG9rZW4gPSBudWxsO1xuICAgIHRoaXMuaW5zdGFuY2VVcmwgPSBkZWZhdWx0Q29ubmVjdGlvbkNvbmZpZy5pbnN0YW5jZVVybDtcbiAgICB0aGlzLnVzZXJJbmZvID0gbnVsbDtcbiAgICB0aGlzLl9zZXNzaW9uVHlwZSA9IG51bGw7XG4gIH1cblxuICAvKiBAcHJpdmVhdGUgKi9cbiAgX3Jlc2V0SW5zdGFuY2UoKSB7XG4gICAgdGhpcy5saW1pdEluZm8gPSB7fTtcbiAgICB0aGlzLnNvYmplY3RzID0ge307XG4gICAgLy8gVE9ETyBpbXBsIGNhY2hlXG4gICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuY2FjaGUuZ2V0KCdkZXNjcmliZUdsb2JhbCcpLnJlbW92ZUFsbExpc3RlbmVycygndmFsdWUnKTtcbiAgICB0aGlzLmNhY2hlLmdldCgnZGVzY3JpYmVHbG9iYWwnKS5vbigndmFsdWUnLCAoeyByZXN1bHQgfSkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNvIG9mIHJlc3VsdC5zb2JqZWN0cykge1xuICAgICAgICAgIHRoaXMuc29iamVjdChzby5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8qXG4gICAgaWYgKHRoaXMudG9vbGluZykge1xuICAgICAgdGhpcy50b29saW5nLl9yZXNldEluc3RhbmNlKCk7XG4gICAgfVxuICAgICovXG4gIH1cblxuICAvKipcbiAgICogQXV0aG9yaXplICh1c2luZyBvYXV0aDIgd2ViIHNlcnZlciBmbG93KVxuICAgKi9cbiAgYXN5bmMgYXV0aG9yaXplKFxuICAgIGNvZGU6IHN0cmluZyxcbiAgICBwYXJhbXM6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9ID0ge30sXG4gICk6IFByb21pc2U8VXNlckluZm8+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLm9hdXRoMi5yZXF1ZXN0VG9rZW4oY29kZSwgcGFyYW1zKTtcbiAgICBjb25zdCB1c2VySW5mbyA9IHBhcnNlSWRVcmwocmVzLmlkKTtcbiAgICB0aGlzLl9lc3RhYmxpc2goe1xuICAgICAgaW5zdGFuY2VVcmw6IHJlcy5pbnN0YW5jZV91cmwsXG4gICAgICBhY2Nlc3NUb2tlbjogcmVzLmFjY2Vzc190b2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzLnJlZnJlc2hfdG9rZW4sXG4gICAgICB1c2VySW5mbyxcbiAgICB9KTtcbiAgICB0aGlzLl9sb2dnZXIuZGVidWcoXG4gICAgICBgPGxvZ2luPiBjb21wbGV0ZWQuIHVzZXIgaWQgPSAke3VzZXJJbmZvLmlkfSwgb3JnIGlkID0gJHt1c2VySW5mby5vcmdhbml6YXRpb25JZH1gLFxuICAgICk7XG4gICAgcmV0dXJuIHVzZXJJbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBhc3luYyBsb2dpbih1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxVc2VySW5mbz4ge1xuICAgIHRoaXMuX3JlZnJlc2hEZWxlZ2F0ZSA9IG5ldyBTZXNzaW9uUmVmcmVzaERlbGVnYXRlKFxuICAgICAgdGhpcyxcbiAgICAgIGNyZWF0ZVVzZXJuYW1lUGFzc3dvcmRSZWZyZXNoRm4odXNlcm5hbWUsIHBhc3N3b3JkKSxcbiAgICApO1xuICAgIGlmICh0aGlzLm9hdXRoMiAmJiB0aGlzLm9hdXRoMi5jbGllbnRJZCAmJiB0aGlzLm9hdXRoMi5jbGllbnRTZWNyZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2luQnlPQXV0aDIodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubG9naW5CeVNvYXAodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2dpbiBieSBPQXV0aDIgdXNlcm5hbWUgJiBwYXNzd29yZCBmbG93XG4gICAqL1xuICBhc3luYyBsb2dpbkJ5T0F1dGgyKHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJJbmZvPiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5vYXV0aDIuYXV0aGVudGljYXRlKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gICAgY29uc3QgdXNlckluZm8gPSBwYXJzZUlkVXJsKHJlcy5pZCk7XG4gICAgdGhpcy5fZXN0YWJsaXNoKHtcbiAgICAgIGluc3RhbmNlVXJsOiByZXMuaW5zdGFuY2VfdXJsLFxuICAgICAgYWNjZXNzVG9rZW46IHJlcy5hY2Nlc3NfdG9rZW4sXG4gICAgICB1c2VySW5mbyxcbiAgICB9KTtcbiAgICB0aGlzLl9sb2dnZXIuaW5mbyhcbiAgICAgIGA8bG9naW4+IGNvbXBsZXRlZC4gdXNlciBpZCA9ICR7dXNlckluZm8uaWR9LCBvcmcgaWQgPSAke3VzZXJJbmZvLm9yZ2FuaXphdGlvbklkfWAsXG4gICAgKTtcbiAgICByZXR1cm4gdXNlckluZm87XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGFzeW5jIGxvZ2luQnlTb2FwKHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJJbmZvPiB7XG4gICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ25vIHVzZXJuYW1lIHBhc3N3b3JkIGdpdmVuJykpO1xuICAgIH1cbiAgICBjb25zdCBib2R5ID0gW1xuICAgICAgJzxzZTpFbnZlbG9wZSB4bWxuczpzZT1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3NvYXAvZW52ZWxvcGUvXCI+JyxcbiAgICAgICc8c2U6SGVhZGVyLz4nLFxuICAgICAgJzxzZTpCb2R5PicsXG4gICAgICAnPGxvZ2luIHhtbG5zPVwidXJuOnBhcnRuZXIuc29hcC5zZm9yY2UuY29tXCI+JyxcbiAgICAgIGA8dXNlcm5hbWU+JHtlc2ModXNlcm5hbWUpfTwvdXNlcm5hbWU+YCxcbiAgICAgIGA8cGFzc3dvcmQ+JHtlc2MocGFzc3dvcmQpfTwvcGFzc3dvcmQ+YCxcbiAgICAgICc8L2xvZ2luPicsXG4gICAgICAnPC9zZTpCb2R5PicsXG4gICAgICAnPC9zZTpFbnZlbG9wZT4nLFxuICAgIF0uam9pbignJyk7XG5cbiAgICBjb25zdCBzb2FwTG9naW5FbmRwb2ludCA9IFtcbiAgICAgIHRoaXMubG9naW5VcmwsXG4gICAgICAnc2VydmljZXMvU29hcC91JyxcbiAgICAgIHRoaXMudmVyc2lvbixcbiAgICBdLmpvaW4oJy8nKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX3RyYW5zcG9ydC5odHRwUmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogc29hcExvZ2luRW5kcG9pbnQsXG4gICAgICBib2R5LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQveG1sJyxcbiAgICAgICAgU09BUEFjdGlvbjogJ1wiXCInLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBsZXQgbTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgIG0gPSByZXNwb25zZS5ib2R5Lm1hdGNoKC88ZmF1bHRzdHJpbmc+KFtePF0rKTxcXC9mYXVsdHN0cmluZz4vKTtcbiAgICAgIGNvbnN0IGZhdWx0c3RyaW5nID0gbSAmJiBtWzFdO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGZhdWx0c3RyaW5nIHx8IHJlc3BvbnNlLmJvZHkpO1xuICAgIH1cbiAgICB0aGlzLl9sb2dnZXIuZGVidWcoYFNPQVAgcmVzcG9uc2UgPSAke3Jlc3BvbnNlLmJvZHl9YCk7XG4gICAgbSA9IHJlc3BvbnNlLmJvZHkubWF0Y2goLzxzZXJ2ZXJVcmw+KFtePF0rKTxcXC9zZXJ2ZXJVcmw+Lyk7XG4gICAgY29uc3Qgc2VydmVyVXJsID0gbSAmJiBtWzFdO1xuICAgIG0gPSByZXNwb25zZS5ib2R5Lm1hdGNoKC88c2Vzc2lvbklkPihbXjxdKyk8XFwvc2Vzc2lvbklkPi8pO1xuICAgIGNvbnN0IHNlc3Npb25JZCA9IG0gJiYgbVsxXTtcbiAgICBtID0gcmVzcG9uc2UuYm9keS5tYXRjaCgvPHVzZXJJZD4oW148XSspPFxcL3VzZXJJZD4vKTtcbiAgICBjb25zdCB1c2VySWQgPSBtICYmIG1bMV07XG4gICAgbSA9IHJlc3BvbnNlLmJvZHkubWF0Y2goLzxvcmdhbml6YXRpb25JZD4oW148XSspPFxcL29yZ2FuaXphdGlvbklkPi8pO1xuICAgIGNvbnN0IG9yZ2FuaXphdGlvbklkID0gbSAmJiBtWzFdO1xuICAgIGlmICghc2VydmVyVXJsIHx8ICFzZXNzaW9uSWQgfHwgIXVzZXJJZCB8fCAhb3JnYW5pemF0aW9uSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2NvdWxkIG5vdCBleHRyYWN0IHNlc3Npb24gaW5mb3JtYXRpb24gZnJvbSBsb2dpbiByZXNwb25zZScsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpZFVybCA9IFt0aGlzLmxvZ2luVXJsLCAnaWQnLCBvcmdhbml6YXRpb25JZCwgdXNlcklkXS5qb2luKCcvJyk7XG4gICAgY29uc3QgdXNlckluZm8gPSB7IGlkOiB1c2VySWQsIG9yZ2FuaXphdGlvbklkLCB1cmw6IGlkVXJsIH07XG4gICAgdGhpcy5fZXN0YWJsaXNoKHtcbiAgICAgIHNlcnZlclVybDogc2VydmVyVXJsLnNwbGl0KCcvJykuc2xpY2UoMCwgMykuam9pbignLycpLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdXNlckluZm8sXG4gICAgfSk7XG4gICAgdGhpcy5fbG9nZ2VyLmluZm8oXG4gICAgICBgPGxvZ2luPiBjb21wbGV0ZWQuIHVzZXIgaWQgPSAke3VzZXJJZH0sIG9yZyBpZCA9ICR7b3JnYW5pemF0aW9uSWR9YCxcbiAgICApO1xuICAgIHJldHVybiB1c2VySW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2dvdXQgdGhlIGN1cnJlbnQgc2Vzc2lvblxuICAgKi9cbiAgYXN5bmMgbG9nb3V0KHJldm9rZT86IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLl9yZWZyZXNoRGVsZWdhdGUgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMuX3Nlc3Npb25UeXBlID09PSAnb2F1dGgyJykge1xuICAgICAgcmV0dXJuIHRoaXMubG9nb3V0QnlPQXV0aDIocmV2b2tlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubG9nb3V0QnlTb2FwKHJldm9rZSk7XG4gIH1cblxuICAvKipcbiAgICogTG9nb3V0IHRoZSBjdXJyZW50IHNlc3Npb24gYnkgcmV2b2tpbmcgYWNjZXNzIHRva2VuIHZpYSBPQXV0aDIgc2Vzc2lvbiByZXZva2VcbiAgICovXG4gIGFzeW5jIGxvZ291dEJ5T0F1dGgyKHJldm9rZT86IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJldm9rZSA/IHRoaXMucmVmcmVzaFRva2VuIDogdGhpcy5hY2Nlc3NUb2tlbjtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGF3YWl0IHRoaXMub2F1dGgyLnJldm9rZVRva2VuKHRva2VuKTtcbiAgICB9XG4gICAgLy8gRGVzdHJveSB0aGUgc2Vzc2lvbiBib3VuZCB0byB0aGlzIGNvbm5lY3Rpb25cbiAgICB0aGlzLl9jbGVhclNlc3Npb24oKTtcbiAgICB0aGlzLl9yZXNldEluc3RhbmNlKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9nb3V0IHRoZSBzZXNzaW9uIGJ5IHVzaW5nIFNPQVAgd2ViIHNlcnZpY2UgQVBJXG4gICAqL1xuICBhc3luYyBsb2dvdXRCeVNvYXAocmV2b2tlPzogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGJvZHkgPSBbXG4gICAgICAnPHNlOkVudmVsb3BlIHhtbG5zOnNlPVwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS9cIj4nLFxuICAgICAgJzxzZTpIZWFkZXI+JyxcbiAgICAgICc8U2Vzc2lvbkhlYWRlciB4bWxucz1cInVybjpwYXJ0bmVyLnNvYXAuc2ZvcmNlLmNvbVwiPicsXG4gICAgICBgPHNlc3Npb25JZD4ke2VzYyhcbiAgICAgICAgcmV2b2tlID8gdGhpcy5yZWZyZXNoVG9rZW4gOiB0aGlzLmFjY2Vzc1Rva2VuLFxuICAgICAgKX08L3Nlc3Npb25JZD5gLFxuICAgICAgJzwvU2Vzc2lvbkhlYWRlcj4nLFxuICAgICAgJzwvc2U6SGVhZGVyPicsXG4gICAgICAnPHNlOkJvZHk+JyxcbiAgICAgICc8bG9nb3V0IHhtbG5zPVwidXJuOnBhcnRuZXIuc29hcC5zZm9yY2UuY29tXCIvPicsXG4gICAgICAnPC9zZTpCb2R5PicsXG4gICAgICAnPC9zZTpFbnZlbG9wZT4nLFxuICAgIF0uam9pbignJyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl90cmFuc3BvcnQuaHR0cFJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6IFt0aGlzLmluc3RhbmNlVXJsLCAnc2VydmljZXMvU29hcC91JywgdGhpcy52ZXJzaW9uXS5qb2luKCcvJyksXG4gICAgICBib2R5LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQveG1sJyxcbiAgICAgICAgU09BUEFjdGlvbjogJ1wiXCInLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICB0aGlzLl9sb2dnZXIuZGVidWcoXG4gICAgICBgU09BUCBzdGF0dXNDb2RlID0gJHtyZXNwb25zZS5zdGF0dXNDb2RlfSwgcmVzcG9uc2UgPSAke3Jlc3BvbnNlLmJvZHl9YCxcbiAgICApO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgY29uc3QgbSA9IHJlc3BvbnNlLmJvZHkubWF0Y2goLzxmYXVsdHN0cmluZz4oW148XSspPFxcL2ZhdWx0c3RyaW5nPi8pO1xuICAgICAgY29uc3QgZmF1bHRzdHJpbmcgPSBtICYmIG1bMV07XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmF1bHRzdHJpbmcgfHwgcmVzcG9uc2UuYm9keSk7XG4gICAgfVxuICAgIC8vIERlc3Ryb3kgdGhlIHNlc3Npb24gYm91bmQgdG8gdGhpcyBjb25uZWN0aW9uXG4gICAgdGhpcy5fY2xlYXJTZXNzaW9uKCk7XG4gICAgdGhpcy5fcmVzZXRJbnN0YW5jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgUkVTVCBBUEkgcmVxdWVzdCB3aXRoIGdpdmVuIEhUVFAgcmVxdWVzdCBpbmZvLCB3aXRoIGNvbm5lY3RlZCBzZXNzaW9uIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBFbmRwb2ludCBVUkwgY2FuIGJlIGFic29sdXRlIFVSTCAoJ2h0dHBzOi8vbmExLnNhbGVzZm9yY2UuY29tL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgcmVsYXRpdmUgcGF0aCBmcm9tIHJvb3QgKCcvc2VydmljZXMvZGF0YS92MzIuMC9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJylcbiAgICogLCBvciByZWxhdGl2ZSBwYXRoIGZyb20gdmVyc2lvbiByb290ICgnL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKS5cbiAgICovXG4gIHJlcXVlc3Q8UiA9IHVua25vd24+KFxuICAgIHJlcXVlc3Q6IHN0cmluZyB8IEh0dHBSZXF1ZXN0LFxuICAgIG9wdGlvbnM6IE9iamVjdCA9IHt9LFxuICApOiBTdHJlYW1Qcm9taXNlPFI+IHtcbiAgICAvLyBpZiByZXF1ZXN0IGlzIHNpbXBsZSBzdHJpbmcsIHJlZ2FyZCBpdCBhcyB1cmwgaW4gR0VUIG1ldGhvZFxuICAgIGxldCByZXF1ZXN0XzogSHR0cFJlcXVlc3QgPVxuICAgICAgdHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnID8geyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJlcXVlc3QgfSA6IHJlcXVlc3Q7XG4gICAgLy8gaWYgdXJsIGlzIGdpdmVuIGluIHJlbGF0aXZlIHBhdGgsIHByZXBlbmQgYmFzZSB1cmwgb3IgaW5zdGFuY2UgdXJsIGJlZm9yZS5cbiAgICByZXF1ZXN0XyA9IHtcbiAgICAgIC4uLnJlcXVlc3RfLFxuICAgICAgdXJsOiB0aGlzLl9ub3JtYWxpemVVcmwocmVxdWVzdF8udXJsKSxcbiAgICB9O1xuICAgIGNvbnN0IGh0dHBBcGkgPSBuZXcgSHR0cEFwaSh0aGlzLCBvcHRpb25zKTtcbiAgICAvLyBsb2cgYXBpIHVzYWdlIGFuZCBpdHMgcXVvdGFcbiAgICBodHRwQXBpLm9uKCdyZXNwb25zZScsIChyZXNwb25zZTogSHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2UuaGVhZGVycyAmJiByZXNwb25zZS5oZWFkZXJzWydzZm9yY2UtbGltaXQtaW5mbyddKSB7XG4gICAgICAgIGNvbnN0IGFwaVVzYWdlID0gcmVzcG9uc2UuaGVhZGVyc1snc2ZvcmNlLWxpbWl0LWluZm8nXS5tYXRjaChcbiAgICAgICAgICAvYXBpLXVzYWdlPShcXGQrKVxcLyhcXGQrKS8sXG4gICAgICAgICk7XG4gICAgICAgIGlmIChhcGlVc2FnZSkge1xuICAgICAgICAgIHRoaXMubGltaXRJbmZvID0ge1xuICAgICAgICAgICAgYXBpVXNhZ2U6IHtcbiAgICAgICAgICAgICAgdXNlZDogcGFyc2VJbnQoYXBpVXNhZ2VbMV0sIDEwKSxcbiAgICAgICAgICAgICAgbGltaXQ6IHBhcnNlSW50KGFwaVVzYWdlWzJdLCAxMCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaHR0cEFwaS5yZXF1ZXN0PFI+KHJlcXVlc3RfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIEhUVFAgR0VUIHJlcXVlc3RcbiAgICpcbiAgICogRW5kcG9pbnQgVVJMIGNhbiBiZSBhYnNvbHV0ZSBVUkwgKCdodHRwczovL25hMS5zYWxlc2ZvcmNlLmNvbS9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIHJlbGF0aXZlIHBhdGggZnJvbSByb290ICgnL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgb3IgcmVsYXRpdmUgcGF0aCBmcm9tIHZlcnNpb24gcm9vdCAoJy9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJykuXG4gICAqL1xuICByZXF1ZXN0R2V0PFIgPSB1bmtub3duPih1cmw6IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCkge1xuICAgIGNvbnN0IHJlcXVlc3Q6IEh0dHBSZXF1ZXN0ID0geyBtZXRob2Q6ICdHRVQnLCB1cmwgfTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFI+KHJlcXVlc3QsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgSFRUUCBQT1NUIHJlcXVlc3Qgd2l0aCBKU09OIGJvZHksIHdpdGggY29ubmVjdGVkIHNlc3Npb24gaW5mb3JtYXRpb25cbiAgICpcbiAgICogRW5kcG9pbnQgVVJMIGNhbiBiZSBhYnNvbHV0ZSBVUkwgKCdodHRwczovL25hMS5zYWxlc2ZvcmNlLmNvbS9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIHJlbGF0aXZlIHBhdGggZnJvbSByb290ICgnL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgb3IgcmVsYXRpdmUgcGF0aCBmcm9tIHZlcnNpb24gcm9vdCAoJy9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJykuXG4gICAqL1xuICByZXF1ZXN0UG9zdDxSID0gdW5rbm93bj4odXJsOiBzdHJpbmcsIGJvZHk6IE9iamVjdCwgb3B0aW9ucz86IE9iamVjdCkge1xuICAgIGNvbnN0IHJlcXVlc3Q6IEh0dHBSZXF1ZXN0ID0ge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmwsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSPihyZXF1ZXN0LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIEhUVFAgUFVUIHJlcXVlc3Qgd2l0aCBKU09OIGJvZHksIHdpdGggY29ubmVjdGVkIHNlc3Npb24gaW5mb3JtYXRpb25cbiAgICpcbiAgICogRW5kcG9pbnQgVVJMIGNhbiBiZSBhYnNvbHV0ZSBVUkwgKCdodHRwczovL25hMS5zYWxlc2ZvcmNlLmNvbS9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIHJlbGF0aXZlIHBhdGggZnJvbSByb290ICgnL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgb3IgcmVsYXRpdmUgcGF0aCBmcm9tIHZlcnNpb24gcm9vdCAoJy9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJykuXG4gICAqL1xuICByZXF1ZXN0UHV0PFI+KHVybDogc3RyaW5nLCBib2R5OiBPYmplY3QsIG9wdGlvbnM/OiBPYmplY3QpIHtcbiAgICBjb25zdCByZXF1ZXN0OiBIdHRwUmVxdWVzdCA9IHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICB1cmwsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSPihyZXF1ZXN0LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIEhUVFAgUEFUQ0ggcmVxdWVzdCB3aXRoIEpTT04gYm9keVxuICAgKlxuICAgKiBFbmRwb2ludCBVUkwgY2FuIGJlIGFic29sdXRlIFVSTCAoJ2h0dHBzOi8vbmExLnNhbGVzZm9yY2UuY29tL3NlcnZpY2VzL2RhdGEvdjMyLjAvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpXG4gICAqICwgcmVsYXRpdmUgcGF0aCBmcm9tIHJvb3QgKCcvc2VydmljZXMvZGF0YS92MzIuMC9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJylcbiAgICogLCBvciByZWxhdGl2ZSBwYXRoIGZyb20gdmVyc2lvbiByb290ICgnL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKS5cbiAgICovXG4gIHJlcXVlc3RQYXRjaDxSID0gdW5rbm93bj4odXJsOiBzdHJpbmcsIGJvZHk6IE9iamVjdCwgb3B0aW9ucz86IE9iamVjdCkge1xuICAgIGNvbnN0IHJlcXVlc3Q6IEh0dHBSZXF1ZXN0ID0ge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgdXJsLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8Uj4ocmVxdWVzdCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBIVFRQIERFTEVURSByZXF1ZXN0XG4gICAqXG4gICAqIEVuZHBvaW50IFVSTCBjYW4gYmUgYWJzb2x1dGUgVVJMICgnaHR0cHM6Ly9uYTEuc2FsZXNmb3JjZS5jb20vc2VydmljZXMvZGF0YS92MzIuMC9zb2JqZWN0cy9BY2NvdW50L2Rlc2NyaWJlJylcbiAgICogLCByZWxhdGl2ZSBwYXRoIGZyb20gcm9vdCAoJy9zZXJ2aWNlcy9kYXRhL3YzMi4wL3NvYmplY3RzL0FjY291bnQvZGVzY3JpYmUnKVxuICAgKiAsIG9yIHJlbGF0aXZlIHBhdGggZnJvbSB2ZXJzaW9uIHJvb3QgKCcvc29iamVjdHMvQWNjb3VudC9kZXNjcmliZScpLlxuICAgKi9cbiAgcmVxdWVzdERlbGV0ZTxSPih1cmw6IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCkge1xuICAgIGNvbnN0IHJlcXVlc3Q6IEh0dHBSZXF1ZXN0ID0geyBtZXRob2Q6ICdERUxFVEUnLCB1cmwgfTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFI+KHJlcXVlc3QsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICoqL1xuICBfYmFzZVVybCgpIHtcbiAgICByZXR1cm4gW3RoaXMuaW5zdGFuY2VVcmwsICdzZXJ2aWNlcy9kYXRhJywgYHYke3RoaXMudmVyc2lvbn1gXS5qb2luKCcvJyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBwYXRoIHRvIGFic29sdXRlIHVybFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX25vcm1hbGl6ZVVybCh1cmw6IHN0cmluZykge1xuICAgIGlmICh1cmxbMF0gPT09ICcvJykge1xuICAgICAgaWYgKHVybC5pbmRleE9mKHRoaXMuaW5zdGFuY2VVcmwgKyAnL3NlcnZpY2VzLycpID09PSAwKSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgICB9XG4gICAgICBpZiAodXJsLmluZGV4T2YoJy9zZXJ2aWNlcy8nKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZVVybCArIHVybDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9iYXNlVXJsKCkgKyB1cmw7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIHF1ZXJ5PFQgZXh0ZW5kcyBSZWNvcmQ+KFxuICAgIHNvcWw6IHN0cmluZyxcbiAgICBvcHRpb25zPzogUGFydGlhbDxRdWVyeU9wdGlvbnM+LFxuICApOiBRdWVyeTxTLCBTT2JqZWN0TmFtZXM8Uz4sIFQsICdRdWVyeVJlc3VsdCc+IHtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5PFMsIFNPYmplY3ROYW1lczxTPiwgVCwgJ1F1ZXJ5UmVzdWx0Jz4odGhpcywgc29xbCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBzZWFyY2ggYnkgU09TTFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc29zbCAtIFNPU0wgc3RyaW5nXG4gICAqIEBwYXJhbSB7Q2FsbGJhY2suPEFycmF5LjxSZWNvcmRSZXN1bHQ+Pn0gW2NhbGxiYWNrXSAtIENhbGxiYWNrIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxBcnJheS48UmVjb3JkUmVzdWx0Pj59XG4gICAqL1xuICBzZWFyY2goc29zbDogc3RyaW5nKSB7XG4gICAgdmFyIHVybCA9IHRoaXMuX2Jhc2VVcmwoKSArICcvc2VhcmNoP3E9JyArIGVuY29kZVVSSUNvbXBvbmVudChzb3NsKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFNlYXJjaFJlc3VsdD4odXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcXVlcnlNb3JlKGxvY2F0b3I6IHN0cmluZywgb3B0aW9ucz86IFF1ZXJ5T3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgUXVlcnk8UywgU09iamVjdE5hbWVzPFM+LCBSZWNvcmQsICdRdWVyeVJlc3VsdCc+KFxuICAgICAgdGhpcyxcbiAgICAgIHsgbG9jYXRvciB9LFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICB9XG5cbiAgLyogKi9cbiAgX2Vuc3VyZVZlcnNpb24obWFqb3JWZXJzaW9uOiBudW1iZXIpIHtcbiAgICBjb25zdCB2ZXJzaW9ucyA9IHRoaXMudmVyc2lvbi5zcGxpdCgnLicpO1xuICAgIHJldHVybiBwYXJzZUludCh2ZXJzaW9uc1swXSwgMTApID49IG1ham9yVmVyc2lvbjtcbiAgfVxuXG4gIC8qICovXG4gIF9zdXBwb3J0cyhmZWF0dXJlOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGZlYXR1cmUpIHtcbiAgICAgIGNhc2UgJ3NvYmplY3QtY29sbGVjdGlvbic6IC8vIHNvYmplY3QgY29sbGVjdGlvbiBpcyBhdmFpbGFibGUgb25seSBpbiBBUEkgdmVyIDQyLjArXG4gICAgICAgIHJldHVybiB0aGlzLl9lbnN1cmVWZXJzaW9uKDQyKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgc3BlY2lmaWVkIHJlY29yZHNcbiAgICovXG4gIHJldHJpZXZlPE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KFxuICAgIHR5cGU6IE4sXG4gICAgaWRzOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFJldHJpZXZlT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSZWNvcmQ+O1xuICByZXRyaWV2ZTxOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+PihcbiAgICB0eXBlOiBOLFxuICAgIGlkczogc3RyaW5nW10sXG4gICAgb3B0aW9ucz86IFJldHJpZXZlT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSZWNvcmRbXT47XG4gIHJldHJpZXZlPE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KFxuICAgIHR5cGU6IE4sXG4gICAgaWRzOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICBvcHRpb25zPzogUmV0cmlldmVPcHRpb25zLFxuICApOiBQcm9taXNlPFJlY29yZCB8IFJlY29yZFtdPjtcbiAgYXN5bmMgcmV0cmlldmUoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGlkczogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgb3B0aW9uczogUmV0cmlldmVPcHRpb25zID0ge30sXG4gICkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGlkcylcbiAgICAgID8gLy8gY2hlY2sgdGhlIHZlcnNpb24gd2hldGhlciBTT2JqZWN0IGNvbGxlY3Rpb24gQVBJIGlzIHN1cHBvcnRlZCAoNDIuMClcbiAgICAgICAgdGhpcy5fZW5zdXJlVmVyc2lvbig0MilcbiAgICAgICAgPyB0aGlzLl9yZXRyaWV2ZU1hbnkodHlwZSwgaWRzLCBvcHRpb25zKVxuICAgICAgICA6IHRoaXMuX3JldHJpZXZlUGFyYWxsZWwodHlwZSwgaWRzLCBvcHRpb25zKVxuICAgICAgOiB0aGlzLl9yZXRyaWV2ZVNpbmdsZSh0eXBlLCBpZHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzeW5jIF9yZXRyaWV2ZVNpbmdsZSh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcsIG9wdGlvbnM6IFJldHJpZXZlT3B0aW9ucykge1xuICAgIGlmICghaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZWNvcmQgSUQuIFNwZWNpZnkgdmFsaWQgcmVjb3JkIElEIHZhbHVlJyk7XG4gICAgfVxuICAgIGxldCB1cmwgPSBbdGhpcy5fYmFzZVVybCgpLCAnc29iamVjdHMnLCB0eXBlLCBpZF0uam9pbignLycpO1xuICAgIGNvbnN0IHsgZmllbGRzLCBoZWFkZXJzIH0gPSBvcHRpb25zO1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHVybCArPSBgP2ZpZWxkcz0ke2ZpZWxkcy5qb2luKCcsJyl9YDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ0dFVCcsIHVybCwgaGVhZGVycyB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfcmV0cmlldmVQYXJhbGxlbChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgaWRzOiBzdHJpbmdbXSxcbiAgICBvcHRpb25zOiBSZXRyaWV2ZU9wdGlvbnMsXG4gICkge1xuICAgIGlmIChpZHMubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGNlZWRlZCBtYXggbGltaXQgb2YgY29uY3VycmVudCBjYWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIGlkcy5tYXAoKGlkKSA9PlxuICAgICAgICB0aGlzLl9yZXRyaWV2ZVNpbmdsZSh0eXBlLCBpZCwgb3B0aW9ucykuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGlmIChvcHRpb25zLmFsbE9yTm9uZSB8fCBlcnIuZXJyb3JDb2RlICE9PSAnTk9UX0ZPVU5EJykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX3JldHJpZXZlTWFueSh0eXBlOiBzdHJpbmcsIGlkczogc3RyaW5nW10sIG9wdGlvbnM6IFJldHJpZXZlT3B0aW9ucykge1xuICAgIGlmIChpZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdjb21wb3NpdGUnLCAnc29iamVjdHMnLCB0eXBlXS5qb2luKCcvJyk7XG4gICAgY29uc3QgZmllbGRzID1cbiAgICAgIG9wdGlvbnMuZmllbGRzIHx8XG4gICAgICAoYXdhaXQgdGhpcy5kZXNjcmliZSQodHlwZSkpLmZpZWxkcy5tYXAoKGZpZWxkKSA9PiBmaWVsZC5uYW1lKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpZHMsIGZpZWxkcyB9KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyB8fCB7fSksXG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSByZWNvcmRzXG4gICAqL1xuICBjcmVhdGU8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBJbnB1dFJlY29yZCBleHRlbmRzIFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPiA9IFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPlxuICA+KFxuICAgIHR5cGU6IE4sXG4gICAgcmVjb3JkczogSW5wdXRSZWNvcmRbXSxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0W10+O1xuICBjcmVhdGU8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBJbnB1dFJlY29yZCBleHRlbmRzIFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPiA9IFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPlxuICA+KHR5cGU6IE4sIHJlY29yZDogSW5wdXRSZWNvcmQsIG9wdGlvbnM/OiBEbWxPcHRpb25zKTogUHJvbWlzZTxTYXZlUmVzdWx0PjtcbiAgY3JlYXRlPFxuICAgIE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4sXG4gICAgSW5wdXRSZWNvcmQgZXh0ZW5kcyBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj4gPSBTT2JqZWN0SW5wdXRSZWNvcmQ8UywgTj5cbiAgPihcbiAgICB0eXBlOiBOLFxuICAgIHJlY29yZHM6IElucHV0UmVjb3JkIHwgSW5wdXRSZWNvcmRbXSxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0IHwgU2F2ZVJlc3VsdFtdPjtcbiAgLyoqXG4gICAqIEBwYXJhbSB0eXBlXG4gICAqIEBwYXJhbSByZWNvcmRzXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqL1xuICBhc3luYyBjcmVhdGUoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHJlY29yZHM6IFJlY29yZCB8IFJlY29yZFtdLFxuICAgIG9wdGlvbnM6IERtbE9wdGlvbnMgPSB7fSxcbiAgKSB7XG4gICAgY29uc3QgcmV0ID0gQXJyYXkuaXNBcnJheShyZWNvcmRzKVxuICAgICAgPyAvLyBjaGVjayB0aGUgdmVyc2lvbiB3aGV0aGVyIFNPYmplY3QgY29sbGVjdGlvbiBBUEkgaXMgc3VwcG9ydGVkICg0Mi4wKVxuICAgICAgICB0aGlzLl9lbnN1cmVWZXJzaW9uKDQyKVxuICAgICAgICA/IGF3YWl0IHRoaXMuX2NyZWF0ZU1hbnkodHlwZSwgcmVjb3Jkcywgb3B0aW9ucylcbiAgICAgICAgOiBhd2FpdCB0aGlzLl9jcmVhdGVQYXJhbGxlbCh0eXBlLCByZWNvcmRzLCBvcHRpb25zKVxuICAgICAgOiBhd2FpdCB0aGlzLl9jcmVhdGVTaW5nbGUodHlwZSwgcmVjb3Jkcywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfY3JlYXRlU2luZ2xlKHR5cGU6IHN0cmluZywgcmVjb3JkOiBSZWNvcmQsIG9wdGlvbnM6IERtbE9wdGlvbnMpIHtcbiAgICBjb25zdCB7IElkLCB0eXBlOiBydHlwZSwgYXR0cmlidXRlcywgLi4ucmVjIH0gPSByZWNvcmQ7XG4gICAgY29uc3Qgc29iamVjdFR5cGUgPSB0eXBlIHx8IChhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMudHlwZSkgfHwgcnR5cGU7XG4gICAgaWYgKCFzb2JqZWN0VHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBTT2JqZWN0IFR5cGUgZGVmaW5lZCBpbiByZWNvcmQnKTtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3NvYmplY3RzJywgc29iamVjdFR5cGVdLmpvaW4oJy8nKTtcbiAgICBsZXQgY29udGVudFR5cGUsIGJvZHk7XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm11bHRpcGFydEZpbGVGaWVsZHMpIHtcbiAgICAgIC8vIFNlbmQgdGhlIHJlY29yZCBhcyBhIG11bHRpcGFydC9mb3JtLWRhdGEgcmVxdWVzdC4gVXNlZnVsIGZvciBmaWVsZHMgY29udGFpbmluZyBsYXJnZSBiaW5hcnkgYmxvYnMuXG4gICAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBmaWVsZHMgcmVxdWVzdGVkIHRvIGJlIHNlbnQgc2VwYXJhdGVseSBmcm9tIHRoZSBKU09OXG4gICAgICBPYmplY3QuZW50cmllcyhvcHRpb25zLm11bHRpcGFydEZpbGVGaWVsZHMpLmZvckVhY2goXG4gICAgICAgIChbZmllbGROYW1lLCBmaWxlRGV0YWlsc10pID0+IHtcbiAgICAgICAgICBmb3JtLmFwcGVuZChcbiAgICAgICAgICAgIGZpZWxkTmFtZSxcbiAgICAgICAgICAgIEJ1ZmZlci5mcm9tKHJlY1tmaWVsZE5hbWVdLCAnYmFzZTY0JyksXG4gICAgICAgICAgICBmaWxlRGV0YWlscyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGRlbGV0ZSByZWNbZmllbGROYW1lXTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICAvLyBTZXJpYWxpemUgdGhlIHJlbWFpbmluZyBmaWVsZHMgYXMgSlNPTlxuICAgICAgZm9ybS5hcHBlbmQodHlwZSwgSlNPTi5zdHJpbmdpZnkocmVjKSwge1xuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSk7XG4gICAgICBjb250ZW50VHlwZSA9IGZvcm0uZ2V0SGVhZGVycygpWydjb250ZW50LXR5cGUnXTsgLy8gVGhpcyBpcyBuZWNlc3NhcnkgdG8gZW5zdXJlIHRoZSAnYm91bmRhcnknIGlzIHByZXNlbnRcbiAgICAgIGJvZHkgPSBmb3JtO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiBzZW5kIHRoZSByZXF1ZXN0IGFzIEpTT05cbiAgICAgIGNvbnRlbnRUeXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHJlYyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybCxcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLihvcHRpb25zLmhlYWRlcnMgfHwge30pLFxuICAgICAgICAnY29udGVudC10eXBlJzogY29udGVudFR5cGUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzeW5jIF9jcmVhdGVQYXJhbGxlbCh0eXBlOiBzdHJpbmcsIHJlY29yZHM6IFJlY29yZFtdLCBvcHRpb25zOiBEbWxPcHRpb25zKSB7XG4gICAgaWYgKHJlY29yZHMubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGNlZWRlZCBtYXggbGltaXQgb2YgY29uY3VycmVudCBjYWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIHJlY29yZHMubWFwKChyZWNvcmQpID0+XG4gICAgICAgIHRoaXMuX2NyZWF0ZVNpbmdsZSh0eXBlLCByZWNvcmQsIG9wdGlvbnMpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAvLyBiZSBhd2FyZSB0aGF0IGFsbE9yTm9uZSBpbiBwYXJhbGxlbCBtb2RlIHdpbGwgbm90IHJldmVydCB0aGUgb3RoZXIgc3VjY2Vzc2Z1bCByZXF1ZXN0c1xuICAgICAgICAgIC8vIGl0IG9ubHkgcmFpc2VzIGVycm9yIHdoZW4gbWV0IGF0IGxlYXN0IG9uZSBmYWlsZWQgcmVxdWVzdC5cbiAgICAgICAgICBpZiAob3B0aW9ucy5hbGxPck5vbmUgfHwgIWVyci5lcnJvckNvZGUpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRvU2F2ZVJlc3VsdChlcnIpO1xuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfY3JlYXRlTWFueShcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgcmVjb3JkczogUmVjb3JkW10sXG4gICAgb3B0aW9uczogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0W10+IHtcbiAgICBpZiAocmVjb3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH1cbiAgICBpZiAocmVjb3Jkcy5sZW5ndGggPiBNQVhfRE1MX0NPVU5UICYmIG9wdGlvbnMuYWxsb3dSZWN1cnNpdmUpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLihhd2FpdCB0aGlzLl9jcmVhdGVNYW55KFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgcmVjb3Jkcy5zbGljZSgwLCBNQVhfRE1MX0NPVU5UKSxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICApKSxcbiAgICAgICAgLi4uKGF3YWl0IHRoaXMuX2NyZWF0ZU1hbnkoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICByZWNvcmRzLnNsaWNlKE1BWF9ETUxfQ09VTlQpLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICkpLFxuICAgICAgXTtcbiAgICB9XG4gICAgY29uc3QgX3JlY29yZHMgPSByZWNvcmRzLm1hcCgocmVjb3JkKSA9PiB7XG4gICAgICBjb25zdCB7IElkLCB0eXBlOiBydHlwZSwgYXR0cmlidXRlcywgLi4ucmVjIH0gPSByZWNvcmQ7XG4gICAgICBjb25zdCBzb2JqZWN0VHlwZSA9IHR5cGUgfHwgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy50eXBlKSB8fCBydHlwZTtcbiAgICAgIGlmICghc29iamVjdFR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBTT2JqZWN0IFR5cGUgZGVmaW5lZCBpbiByZWNvcmQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGF0dHJpYnV0ZXM6IHsgdHlwZTogc29iamVjdFR5cGUgfSwgLi4ucmVjIH07XG4gICAgfSk7XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ2NvbXBvc2l0ZScsICdzb2JqZWN0cyddLmpvaW4oJy8nKTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhbGxPck5vbmU6IG9wdGlvbnMuYWxsT3JOb25lIHx8IGZhbHNlLFxuICAgICAgICByZWNvcmRzOiBfcmVjb3JkcyxcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAuLi4ob3B0aW9ucy5oZWFkZXJzIHx8IHt9KSxcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3lub255bSBvZiBDb25uZWN0aW9uI2NyZWF0ZSgpXG4gICAqL1xuICBpbnNlcnQgPSB0aGlzLmNyZWF0ZTtcblxuICAvKipcbiAgICogVXBkYXRlIHJlY29yZHNcbiAgICovXG4gIHVwZGF0ZTxcbiAgICBOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+LFxuICAgIFVwZGF0ZVJlY29yZCBleHRlbmRzIFNPYmplY3RVcGRhdGVSZWNvcmQ8UywgTj4gPSBTT2JqZWN0VXBkYXRlUmVjb3JkPFMsIE4+XG4gID4oXG4gICAgdHlwZTogTixcbiAgICByZWNvcmRzOiBVcGRhdGVSZWNvcmRbXSxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0W10+O1xuICB1cGRhdGU8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBVcGRhdGVSZWNvcmQgZXh0ZW5kcyBTT2JqZWN0VXBkYXRlUmVjb3JkPFMsIE4+ID0gU09iamVjdFVwZGF0ZVJlY29yZDxTLCBOPlxuICA+KHR5cGU6IE4sIHJlY29yZDogVXBkYXRlUmVjb3JkLCBvcHRpb25zPzogRG1sT3B0aW9ucyk6IFByb21pc2U8U2F2ZVJlc3VsdD47XG4gIHVwZGF0ZTxcbiAgICBOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+LFxuICAgIFVwZGF0ZVJlY29yZCBleHRlbmRzIFNPYmplY3RVcGRhdGVSZWNvcmQ8UywgTj4gPSBTT2JqZWN0VXBkYXRlUmVjb3JkPFMsIE4+XG4gID4oXG4gICAgdHlwZTogTixcbiAgICByZWNvcmRzOiBVcGRhdGVSZWNvcmQgfCBVcGRhdGVSZWNvcmRbXSxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0IHwgU2F2ZVJlc3VsdFtdPjtcbiAgLyoqXG4gICAqIEBwYXJhbSB0eXBlXG4gICAqIEBwYXJhbSByZWNvcmRzXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqL1xuICB1cGRhdGU8TiBleHRlbmRzIFNPYmplY3ROYW1lczxTPj4oXG4gICAgdHlwZTogTixcbiAgICByZWNvcmRzOiBSZWNvcmQgfCBSZWNvcmRbXSxcbiAgICBvcHRpb25zOiBEbWxPcHRpb25zID0ge30sXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdCB8IFNhdmVSZXN1bHRbXT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJlY29yZHMpXG4gICAgICA/IC8vIGNoZWNrIHRoZSB2ZXJzaW9uIHdoZXRoZXIgU09iamVjdCBjb2xsZWN0aW9uIEFQSSBpcyBzdXBwb3J0ZWQgKDQyLjApXG4gICAgICAgIHRoaXMuX2Vuc3VyZVZlcnNpb24oNDIpXG4gICAgICAgID8gdGhpcy5fdXBkYXRlTWFueSh0eXBlLCByZWNvcmRzLCBvcHRpb25zKVxuICAgICAgICA6IHRoaXMuX3VwZGF0ZVBhcmFsbGVsKHR5cGUsIHJlY29yZHMsIG9wdGlvbnMpXG4gICAgICA6IHRoaXMuX3VwZGF0ZVNpbmdsZSh0eXBlLCByZWNvcmRzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfdXBkYXRlU2luZ2xlKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICByZWNvcmQ6IFJlY29yZCxcbiAgICBvcHRpb25zOiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHQ+IHtcbiAgICBjb25zdCB7IElkOiBpZCwgdHlwZTogcnR5cGUsIGF0dHJpYnV0ZXMsIC4uLnJlYyB9ID0gcmVjb3JkO1xuICAgIGlmICghaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVjb3JkIGlkIGlzIG5vdCBmb3VuZCBpbiByZWNvcmQuJyk7XG4gICAgfVxuICAgIGNvbnN0IHNvYmplY3RUeXBlID0gdHlwZSB8fCAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLnR5cGUpIHx8IHJ0eXBlO1xuICAgIGlmICghc29iamVjdFR5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gU09iamVjdCBUeXBlIGRlZmluZWQgaW4gcmVjb3JkJyk7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdzb2JqZWN0cycsIHNvYmplY3RUeXBlLCBpZF0uam9pbignLycpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgdXJsLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZWMpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyB8fCB7fSksXG4gICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vQ29udGVudFJlc3BvbnNlOiB7IGlkLCBzdWNjZXNzOiB0cnVlLCBlcnJvcnM6IFtdIH0sXG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX3VwZGF0ZVBhcmFsbGVsKHR5cGU6IHN0cmluZywgcmVjb3JkczogUmVjb3JkW10sIG9wdGlvbnM6IERtbE9wdGlvbnMpIHtcbiAgICBpZiAocmVjb3Jkcy5sZW5ndGggPiB0aGlzLl9tYXhSZXF1ZXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4Y2VlZGVkIG1heCBsaW1pdCBvZiBjb25jdXJyZW50IGNhbGwnKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgcmVjb3Jkcy5tYXAoKHJlY29yZCkgPT5cbiAgICAgICAgdGhpcy5fdXBkYXRlU2luZ2xlKHR5cGUsIHJlY29yZCwgb3B0aW9ucykuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIC8vIGJlIGF3YXJlIHRoYXQgYWxsT3JOb25lIGluIHBhcmFsbGVsIG1vZGUgd2lsbCBub3QgcmV2ZXJ0IHRoZSBvdGhlciBzdWNjZXNzZnVsIHJlcXVlc3RzXG4gICAgICAgICAgLy8gaXQgb25seSByYWlzZXMgZXJyb3Igd2hlbiBtZXQgYXQgbGVhc3Qgb25lIGZhaWxlZCByZXF1ZXN0LlxuICAgICAgICAgIGlmIChvcHRpb25zLmFsbE9yTm9uZSB8fCAhZXJyLmVycm9yQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdG9TYXZlUmVzdWx0KGVycik7XG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzeW5jIF91cGRhdGVNYW55KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICByZWNvcmRzOiBSZWNvcmRbXSxcbiAgICBvcHRpb25zOiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHRbXT4ge1xuICAgIGlmIChyZWNvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAocmVjb3Jkcy5sZW5ndGggPiBNQVhfRE1MX0NPVU5UICYmIG9wdGlvbnMuYWxsb3dSZWN1cnNpdmUpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLihhd2FpdCB0aGlzLl91cGRhdGVNYW55KFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgcmVjb3Jkcy5zbGljZSgwLCBNQVhfRE1MX0NPVU5UKSxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICApKSxcbiAgICAgICAgLi4uKGF3YWl0IHRoaXMuX3VwZGF0ZU1hbnkoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICByZWNvcmRzLnNsaWNlKE1BWF9ETUxfQ09VTlQpLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICkpLFxuICAgICAgXTtcbiAgICB9XG4gICAgY29uc3QgX3JlY29yZHMgPSByZWNvcmRzLm1hcCgocmVjb3JkKSA9PiB7XG4gICAgICBjb25zdCB7IElkOiBpZCwgdHlwZTogcnR5cGUsIGF0dHJpYnV0ZXMsIC4uLnJlYyB9ID0gcmVjb3JkO1xuICAgICAgaWYgKCFpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlY29yZCBpZCBpcyBub3QgZm91bmQgaW4gcmVjb3JkLicpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc29iamVjdFR5cGUgPSB0eXBlIHx8IChhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMudHlwZSkgfHwgcnR5cGU7XG4gICAgICBpZiAoIXNvYmplY3RUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gU09iamVjdCBUeXBlIGRlZmluZWQgaW4gcmVjb3JkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBpZCwgYXR0cmlidXRlczogeyB0eXBlOiBzb2JqZWN0VHlwZSB9LCAuLi5yZWMgfTtcbiAgICB9KTtcbiAgICBjb25zdCB1cmwgPSBbdGhpcy5fYmFzZVVybCgpLCAnY29tcG9zaXRlJywgJ3NvYmplY3RzJ10uam9pbignLycpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgdXJsLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhbGxPck5vbmU6IG9wdGlvbnMuYWxsT3JOb25lIHx8IGZhbHNlLFxuICAgICAgICByZWNvcmRzOiBfcmVjb3JkcyxcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAuLi4ob3B0aW9ucy5oZWFkZXJzIHx8IHt9KSxcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBzZXJ0IHJlY29yZHNcbiAgICovXG4gIHVwc2VydDxcbiAgICBOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+LFxuICAgIElucHV0UmVjb3JkIGV4dGVuZHMgU09iamVjdElucHV0UmVjb3JkPFMsIE4+ID0gU09iamVjdElucHV0UmVjb3JkPFMsIE4+LFxuICAgIEZpZWxkTmFtZXMgZXh0ZW5kcyBTT2JqZWN0RmllbGROYW1lczxTLCBOPiA9IFNPYmplY3RGaWVsZE5hbWVzPFMsIE4+XG4gID4oXG4gICAgdHlwZTogTixcbiAgICByZWNvcmRzOiBJbnB1dFJlY29yZFtdLFxuICAgIGV4dElkRmllbGQ6IEZpZWxkTmFtZXMsXG4gICAgb3B0aW9ucz86IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8VXBzZXJ0UmVzdWx0W10+O1xuICB1cHNlcnQ8XG4gICAgTiBleHRlbmRzIFNPYmplY3ROYW1lczxTPixcbiAgICBJbnB1dFJlY29yZCBleHRlbmRzIFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPiA9IFNPYmplY3RJbnB1dFJlY29yZDxTLCBOPixcbiAgICBGaWVsZE5hbWVzIGV4dGVuZHMgU09iamVjdEZpZWxkTmFtZXM8UywgTj4gPSBTT2JqZWN0RmllbGROYW1lczxTLCBOPlxuICA+KFxuICAgIHR5cGU6IE4sXG4gICAgcmVjb3JkOiBJbnB1dFJlY29yZCxcbiAgICBleHRJZEZpZWxkOiBGaWVsZE5hbWVzLFxuICAgIG9wdGlvbnM/OiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFVwc2VydFJlc3VsdD47XG4gIHVwc2VydDxcbiAgICBOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+LFxuICAgIElucHV0UmVjb3JkIGV4dGVuZHMgU09iamVjdElucHV0UmVjb3JkPFMsIE4+ID0gU09iamVjdElucHV0UmVjb3JkPFMsIE4+LFxuICAgIEZpZWxkTmFtZXMgZXh0ZW5kcyBTT2JqZWN0RmllbGROYW1lczxTLCBOPiA9IFNPYmplY3RGaWVsZE5hbWVzPFMsIE4+XG4gID4oXG4gICAgdHlwZTogTixcbiAgICByZWNvcmRzOiBJbnB1dFJlY29yZCB8IElucHV0UmVjb3JkW10sXG4gICAgZXh0SWRGaWVsZDogRmllbGROYW1lcyxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxVcHNlcnRSZXN1bHQgfCBVcHNlcnRSZXN1bHRbXT47XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcGFyYW0gcmVjb3Jkc1xuICAgKiBAcGFyYW0gZXh0SWRGaWVsZFxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgdXBzZXJ0KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICByZWNvcmRzOiBSZWNvcmQgfCBSZWNvcmRbXSxcbiAgICBleHRJZEZpZWxkOiBzdHJpbmcsXG4gICAgb3B0aW9uczogRG1sT3B0aW9ucyA9IHt9LFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHQgfCBTYXZlUmVzdWx0W10+IHtcbiAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShyZWNvcmRzKTtcbiAgICBjb25zdCBfcmVjb3JkcyA9IEFycmF5LmlzQXJyYXkocmVjb3JkcykgPyByZWNvcmRzIDogW3JlY29yZHNdO1xuICAgIGlmIChfcmVjb3Jkcy5sZW5ndGggPiB0aGlzLl9tYXhSZXF1ZXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4Y2VlZGVkIG1heCBsaW1pdCBvZiBjb25jdXJyZW50IGNhbGwnKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgX3JlY29yZHMubWFwKChyZWNvcmQpID0+IHtcbiAgICAgICAgY29uc3QgeyBbZXh0SWRGaWVsZF06IGV4dElkLCB0eXBlOiBydHlwZSwgYXR0cmlidXRlcywgLi4ucmVjIH0gPSByZWNvcmQ7XG4gICAgICAgIGNvbnN0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdzb2JqZWN0cycsIHR5cGUsIGV4dElkRmllbGQsIGV4dElkXS5qb2luKFxuICAgICAgICAgICcvJyxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdDxTYXZlUmVzdWx0PihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZWMpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAuLi4ob3B0aW9ucy5oZWFkZXJzIHx8IHt9KSxcbiAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBub0NvbnRlbnRSZXNwb25zZTogeyBzdWNjZXNzOiB0cnVlLCBlcnJvcnM6IFtdIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgLy8gQmUgYXdhcmUgdGhhdCBgYWxsT3JOb25lYCBvcHRpb24gaW4gdXBzZXJ0IG1ldGhvZFxuICAgICAgICAgIC8vIHdpbGwgbm90IHJldmVydCB0aGUgb3RoZXIgc3VjY2Vzc2Z1bCByZXF1ZXN0cy5cbiAgICAgICAgICAvLyBJdCBvbmx5IHJhaXNlcyBlcnJvciB3aGVuIG1ldCBhdCBsZWFzdCBvbmUgZmFpbGVkIHJlcXVlc3QuXG4gICAgICAgICAgaWYgKCFpc0FycmF5IHx8IG9wdGlvbnMuYWxsT3JOb25lIHx8ICFlcnIuZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0b1NhdmVSZXN1bHQoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiBpc0FycmF5ID8gcmVzdWx0cyA6IHJlc3VsdHNbMF07XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIHJlY29yZHNcbiAgICovXG4gIGRlc3Ryb3k8TiBleHRlbmRzIFNPYmplY3ROYW1lczxTPj4oXG4gICAgdHlwZTogTixcbiAgICBpZHM6IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM/OiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHRbXT47XG4gIGRlc3Ryb3k8TiBleHRlbmRzIFNPYmplY3ROYW1lczxTPj4oXG4gICAgdHlwZTogTixcbiAgICBpZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHQ+O1xuICBkZXN0cm95PE4gZXh0ZW5kcyBTT2JqZWN0TmFtZXM8Uz4+KFxuICAgIHR5cGU6IE4sXG4gICAgaWRzOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICBvcHRpb25zPzogRG1sT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTYXZlUmVzdWx0IHwgU2F2ZVJlc3VsdFtdPjtcbiAgLyoqXG4gICAqIEBwYXJhbSB0eXBlXG4gICAqIEBwYXJhbSBpZHNcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICovXG4gIGFzeW5jIGRlc3Ryb3koXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGlkczogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgb3B0aW9uczogRG1sT3B0aW9ucyA9IHt9LFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHQgfCBTYXZlUmVzdWx0W10+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpZHMpXG4gICAgICA/IC8vIGNoZWNrIHRoZSB2ZXJzaW9uIHdoZXRoZXIgU09iamVjdCBjb2xsZWN0aW9uIEFQSSBpcyBzdXBwb3J0ZWQgKDQyLjApXG4gICAgICAgIHRoaXMuX2Vuc3VyZVZlcnNpb24oNDIpXG4gICAgICAgID8gdGhpcy5fZGVzdHJveU1hbnkodHlwZSwgaWRzLCBvcHRpb25zKVxuICAgICAgICA6IHRoaXMuX2Rlc3Ryb3lQYXJhbGxlbCh0eXBlLCBpZHMsIG9wdGlvbnMpXG4gICAgICA6IHRoaXMuX2Rlc3Ryb3lTaW5nbGUodHlwZSwgaWRzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfZGVzdHJveVNpbmdsZShcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgaWQ6IHN0cmluZyxcbiAgICBvcHRpb25zOiBEbWxPcHRpb25zLFxuICApOiBQcm9taXNlPFNhdmVSZXN1bHQ+IHtcbiAgICBjb25zdCB1cmwgPSBbdGhpcy5fYmFzZVVybCgpLCAnc29iamVjdHMnLCB0eXBlLCBpZF0uam9pbignLycpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIHVybCxcbiAgICAgICAgaGVhZGVyczogb3B0aW9ucy5oZWFkZXJzIHx8IHt9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm9Db250ZW50UmVzcG9uc2U6IHsgaWQsIHN1Y2Nlc3M6IHRydWUsIGVycm9yczogW10gfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhc3luYyBfZGVzdHJveVBhcmFsbGVsKHR5cGU6IHN0cmluZywgaWRzOiBzdHJpbmdbXSwgb3B0aW9uczogRG1sT3B0aW9ucykge1xuICAgIGlmIChpZHMubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGNlZWRlZCBtYXggbGltaXQgb2YgY29uY3VycmVudCBjYWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIGlkcy5tYXAoKGlkKSA9PlxuICAgICAgICB0aGlzLl9kZXN0cm95U2luZ2xlKHR5cGUsIGlkLCBvcHRpb25zKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgLy8gQmUgYXdhcmUgdGhhdCBgYWxsT3JOb25lYCBvcHRpb24gaW4gcGFyYWxsZWwgbW9kZVxuICAgICAgICAgIC8vIHdpbGwgbm90IHJldmVydCB0aGUgb3RoZXIgc3VjY2Vzc2Z1bCByZXF1ZXN0cy5cbiAgICAgICAgICAvLyBJdCBvbmx5IHJhaXNlcyBlcnJvciB3aGVuIG1ldCBhdCBsZWFzdCBvbmUgZmFpbGVkIHJlcXVlc3QuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuYWxsT3JOb25lIHx8ICFlcnIuZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0b1NhdmVSZXN1bHQoZXJyKTtcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYXN5bmMgX2Rlc3Ryb3lNYW55KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBpZHM6IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM6IERtbE9wdGlvbnMsXG4gICk6IFByb21pc2U8U2F2ZVJlc3VsdFtdPiB7XG4gICAgaWYgKGlkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKGlkcy5sZW5ndGggPiBNQVhfRE1MX0NPVU5UICYmIG9wdGlvbnMuYWxsb3dSZWN1cnNpdmUpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLihhd2FpdCB0aGlzLl9kZXN0cm95TWFueShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGlkcy5zbGljZSgwLCBNQVhfRE1MX0NPVU5UKSxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICApKSxcbiAgICAgICAgLi4uKGF3YWl0IHRoaXMuX2Rlc3Ryb3lNYW55KHR5cGUsIGlkcy5zbGljZShNQVhfRE1MX0NPVU5UKSwgb3B0aW9ucykpLFxuICAgICAgXTtcbiAgICB9XG4gICAgbGV0IHVybCA9XG4gICAgICBbdGhpcy5fYmFzZVVybCgpLCAnY29tcG9zaXRlJywgJ3NvYmplY3RzP2lkcz0nXS5qb2luKCcvJykgKyBpZHMuam9pbignLCcpO1xuICAgIGlmIChvcHRpb25zLmFsbE9yTm9uZSkge1xuICAgICAgdXJsICs9ICcmYWxsT3JOb25lPXRydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICB1cmwsXG4gICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMgfHwge30sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3lub255bSBvZiBDb25uZWN0aW9uI2Rlc3Ryb3koKVxuICAgKi9cbiAgZGVsZXRlID0gdGhpcy5kZXN0cm95O1xuXG4gIC8qKlxuICAgKiBTeW5vbnltIG9mIENvbm5lY3Rpb24jZGVzdHJveSgpXG4gICAqL1xuICBkZWwgPSB0aGlzLmRlc3Ryb3k7XG5cbiAgLyoqXG4gICAqIERlc2NyaWJlIFNPYmplY3QgbWV0YWRhdGFcbiAgICovXG4gIGFzeW5jIGRlc2NyaWJlKHR5cGU6IHN0cmluZyk6IFByb21pc2U8RGVzY3JpYmVTT2JqZWN0UmVzdWx0PiB7XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3NvYmplY3RzJywgdHlwZSwgJ2Rlc2NyaWJlJ10uam9pbignLycpO1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCB0aGlzLnJlcXVlc3QodXJsKTtcbiAgICByZXR1cm4gYm9keSBhcyBEZXNjcmliZVNPYmplY3RSZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogRGVzY3JpYmUgZ2xvYmFsIFNPYmplY3RzXG4gICAqL1xuICBhc3luYyBkZXNjcmliZUdsb2JhbCgpIHtcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLl9iYXNlVXJsKCl9L3NvYmplY3RzYDtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHVybCk7XG4gICAgcmV0dXJuIGJvZHkgYXMgRGVzY3JpYmVHbG9iYWxSZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFNPYmplY3QgaW5zdGFuY2VcbiAgICovXG4gIHNvYmplY3Q8TiBleHRlbmRzIFNPYmplY3ROYW1lczxTPj4odHlwZTogTik6IFNPYmplY3Q8UywgTj47XG4gIHNvYmplY3Q8TiBleHRlbmRzIFNPYmplY3ROYW1lczxTPj4odHlwZTogc3RyaW5nKTogU09iamVjdDxTLCBOPjtcbiAgc29iamVjdDxOIGV4dGVuZHMgU09iamVjdE5hbWVzPFM+Pih0eXBlOiBOIHwgc3RyaW5nKTogU09iamVjdDxTLCBOPiB7XG4gICAgY29uc3Qgc28gPVxuICAgICAgKHRoaXMuc29iamVjdHNbdHlwZSBhcyBOXSBhcyBTT2JqZWN0PFMsIE4+IHwgdW5kZWZpbmVkKSB8fFxuICAgICAgbmV3IFNPYmplY3QodGhpcywgdHlwZSBhcyBOKTtcbiAgICB0aGlzLnNvYmplY3RzW3R5cGUgYXMgTl0gPSBzbztcbiAgICByZXR1cm4gc287XG4gIH1cblxuICAvKipcbiAgICogR2V0IGlkZW50aXR5IGluZm9ybWF0aW9uIG9mIGN1cnJlbnQgdXNlclxuICAgKi9cbiAgYXN5bmMgaWRlbnRpdHkob3B0aW9uczogeyBoZWFkZXJzPzogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH0gfSA9IHt9KSB7XG4gICAgbGV0IHVybCA9IHRoaXMudXNlckluZm8gJiYgdGhpcy51c2VySW5mby51cmw7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucmVxdWVzdDx7IGlkZW50aXR5OiBzdHJpbmcgfT4oe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IHRoaXMuX2Jhc2VVcmwoKSxcbiAgICAgICAgaGVhZGVyczogb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSk7XG4gICAgICB1cmwgPSByZXMuaWRlbnRpdHk7XG4gICAgfVxuICAgIHVybCArPSAnP2Zvcm1hdD1qc29uJztcbiAgICBpZiAodGhpcy5hY2Nlc3NUb2tlbikge1xuICAgICAgdXJsICs9IGAmb2F1dGhfdG9rZW49JHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5hY2Nlc3NUb2tlbil9YDtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5yZXF1ZXN0PElkZW50aXR5SW5mbz4oeyBtZXRob2Q6ICdHRVQnLCB1cmwgfSk7XG4gICAgdGhpcy51c2VySW5mbyA9IHtcbiAgICAgIGlkOiByZXMudXNlcl9pZCxcbiAgICAgIG9yZ2FuaXphdGlvbklkOiByZXMub3JnYW5pemF0aW9uX2lkLFxuICAgICAgdXJsOiByZXMuaWQsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3QgcmVjZW50bHkgdmlld2VkIHJlY29yZHNcbiAgICovXG4gIGFzeW5jIHJlY2VudCh0eXBlPzogc3RyaW5nIHwgbnVtYmVyLCBsaW1pdD86IG51bWJlcikge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgbGltaXQgPSB0eXBlO1xuICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IHVybDtcbiAgICBpZiAodHlwZSkge1xuICAgICAgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3NvYmplY3RzJywgdHlwZV0uam9pbignLycpO1xuICAgICAgY29uc3QgeyByZWNlbnRJdGVtcyB9ID0gYXdhaXQgdGhpcy5yZXF1ZXN0PHsgcmVjZW50SXRlbXM6IFJlY29yZFtdIH0+KFxuICAgICAgICB1cmwsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGxpbWl0ID8gcmVjZW50SXRlbXMuc2xpY2UoMCwgbGltaXQpIDogcmVjZW50SXRlbXM7XG4gICAgfVxuICAgIHVybCA9IGAke3RoaXMuX2Jhc2VVcmwoKX0vcmVjZW50YDtcbiAgICBpZiAobGltaXQpIHtcbiAgICAgIHVybCArPSBgP2xpbWl0PSR7bGltaXR9YDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSZWNvcmRbXT4odXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB1cGRhdGVkIHJlY29yZHNcbiAgICovXG4gIGFzeW5jIHVwZGF0ZWQoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHN0YXJ0OiBzdHJpbmcgfCBEYXRlLFxuICAgIGVuZDogc3RyaW5nIHwgRGF0ZSxcbiAgKTogUHJvbWlzZTxVcGRhdGVkUmVzdWx0PiB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICBsZXQgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3NvYmplY3RzJywgdHlwZSwgJ3VwZGF0ZWQnXS5qb2luKCcvJyk7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHN0YXJ0ID0gbmV3IERhdGUoc3RhcnQpO1xuICAgIH1cbiAgICBzdGFydCA9IGZvcm1hdERhdGUoc3RhcnQpO1xuICAgIHVybCArPSBgP3N0YXJ0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN0YXJ0KX1gO1xuICAgIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5kID0gbmV3IERhdGUoZW5kKTtcbiAgICB9XG4gICAgZW5kID0gZm9ybWF0RGF0ZShlbmQpO1xuICAgIHVybCArPSBgJmVuZD0ke2VuY29kZVVSSUNvbXBvbmVudChlbmQpfWA7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHRoaXMucmVxdWVzdCh1cmwpO1xuICAgIHJldHVybiBib2R5IGFzIFVwZGF0ZWRSZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgZGVsZXRlZCByZWNvcmRzXG4gICAqL1xuICBhc3luYyBkZWxldGVkKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBzdGFydDogc3RyaW5nIHwgRGF0ZSxcbiAgICBlbmQ6IHN0cmluZyB8IERhdGUsXG4gICk6IFByb21pc2U8RGVsZXRlZFJlc3VsdD4ge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgbGV0IHVybCA9IFt0aGlzLl9iYXNlVXJsKCksICdzb2JqZWN0cycsIHR5cGUsICdkZWxldGVkJ10uam9pbignLycpO1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzdGFydCA9IG5ldyBEYXRlKHN0YXJ0KTtcbiAgICB9XG4gICAgc3RhcnQgPSBmb3JtYXREYXRlKHN0YXJ0KTtcbiAgICB1cmwgKz0gYD9zdGFydD0ke2VuY29kZVVSSUNvbXBvbmVudChzdGFydCl9YDtcblxuICAgIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5kID0gbmV3IERhdGUoZW5kKTtcbiAgICB9XG4gICAgZW5kID0gZm9ybWF0RGF0ZShlbmQpO1xuICAgIHVybCArPSBgJmVuZD0ke2VuY29kZVVSSUNvbXBvbmVudChlbmQpfWA7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHRoaXMucmVxdWVzdCh1cmwpO1xuICAgIHJldHVybiBib2R5IGFzIERlbGV0ZWRSZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYWxsIHRhYnNcbiAgICovXG4gIGFzeW5jIHRhYnMoKTogUHJvbWlzZTxEZXNjcmliZVRhYltdPiB7XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3RhYnMnXS5qb2luKCcvJyk7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHRoaXMucmVxdWVzdCh1cmwpO1xuICAgIHJldHVybiBib2R5IGFzIERlc2NyaWJlVGFiW107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBjdXJyZW50IHN5c3RlbSBsaW1pdCBpbiB0aGUgb3JnYW5pemF0aW9uXG4gICAqL1xuICBhc3luYyBsaW1pdHMoKTogUHJvbWlzZTxPcmdhbml6YXRpb25MaW1pdHNJbmZvPiB7XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ2xpbWl0cyddLmpvaW4oJy8nKTtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHVybCk7XG4gICAgcmV0dXJuIGJvZHkgYXMgT3JnYW5pemF0aW9uTGltaXRzSW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdGhlbWUgaW5mb1xuICAgKi9cbiAgYXN5bmMgdGhlbWUoKTogUHJvbWlzZTxEZXNjcmliZVRoZW1lPiB7XG4gICAgY29uc3QgdXJsID0gW3RoaXMuX2Jhc2VVcmwoKSwgJ3RoZW1lJ10uam9pbignLycpO1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCB0aGlzLnJlcXVlc3QodXJsKTtcbiAgICByZXR1cm4gYm9keSBhcyBEZXNjcmliZVRoZW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIHJlZ2lzdGVyZWQgZ2xvYmFsIHF1aWNrIGFjdGlvbnNcbiAgICovXG4gIGFzeW5jIHF1aWNrQWN0aW9ucygpOiBQcm9taXNlPERlc2NyaWJlUXVpY2tBY3Rpb25SZXN1bHRbXT4ge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCB0aGlzLnJlcXVlc3QoJy9xdWlja0FjdGlvbnMnKTtcbiAgICByZXR1cm4gYm9keSBhcyBEZXNjcmliZVF1aWNrQWN0aW9uUmVzdWx0W107XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlZmVyZW5jZSBmb3Igc3BlY2lmaWVkIGdsb2JhbCBxdWljayBhY3Rpb25cbiAgICovXG4gIHF1aWNrQWN0aW9uKGFjdGlvbk5hbWU6IHN0cmluZyk6IFF1aWNrQWN0aW9uPFM+IHtcbiAgICByZXR1cm4gbmV3IFF1aWNrQWN0aW9uKHRoaXMsIGAvcXVpY2tBY3Rpb25zLyR7YWN0aW9uTmFtZX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2R1bGUgd2hpY2ggbWFuYWdlcyBwcm9jZXNzIHJ1bGVzIGFuZCBhcHByb3ZhbCBwcm9jZXNzZXNcbiAgICovXG4gIHByb2Nlc3MgPSBuZXcgUHJvY2Vzcyh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29ubmVjdGlvbjtcbiJdfQ==